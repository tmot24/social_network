{"version":3,"sources":["components/navBar/navBar.module.css","assets/images/default_avatar.jpg","components/content/addMessageForm/addMessageForm.module.css","components/header/header.module.css","assets/images/Spinner-1s-300px.svg","components/content/common/preloader/preloader.js","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","components/content/welcome/welcome.module.css","api/api.js","components/navBar/navBar.js","components/header/header.js","redux/auth-reducer.js","components/header/headerContainer.js","components/content/login/loginForm.js","components/content/login/loginContainer.js","redux/app-reducer.js","assets/images/welcome-home-welcome-home-de.jpg","components/content/welcome/welcome.js","components/content/notFound/notFound.js","components/content/errorBoundary/errorBoundary.js","components/app/app.js","redux/redux-store.js","index.js"],"names":["module","exports","Preloader","src","spinner","alt","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","initialState","posts","id","message","likesCount","profile","status","profileReducer","state","action","type","newPost","newPostText","filter","p","postId","photos","addPost","setStatus","getUserProfile","userId","dispatch","a","profileAPI","getProfile","response","data","getUserStatus","getStatus","updateUserStatus","updateStatus","resultCode","savePhoto","file","saveProfile","getState","auth","Promise","reject","messages","SEND_MESSAGE","dataDialog","name","img","avatar","dialogsReducer","body","newMessageBody","sendMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","i","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","followed","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","getUsersThunkCreator","page","usersAPI","getUsers","totalCount","followUnfollowFlow","apiMethod","actionCreator","follow","unfollow","instance","axios","create","withCredentials","baseURL","headers","get","then","post","delete","put","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","NavBar","className","style","nav","item","to","activeClassName","activeLink","Header","isAuth","header","loginBlock","onClick","SET_USER_DATA","SET_ERROR_LOGIN","GET_CAPTCHA_URL_SUCCESS","errorMessage","captchaUrl","getCaptchaUrlSuccess","payload","setErrorLogin","setAuthUserData","getAuthUserData","url","mapDispatchToProps","connect","LoginForm","useForm","register","handleSubmit","errors","formState","fieldOption","required","minLength","value","errorSpan","field","onSubmit","formControl","error","placeholder","INITIALIZED_SUCCESS","initialized","Welcome","welcome","NotFound","ErrorBoundary","errorInfo","this","setState","console","log","props","children","React","Component","ProfileContainer","lazy","UsersContainer","DialogsContainer","initializeApp","app","useEffect","preloader","fallback","path","exact","component","LoginContainer","reducers","combineReducers","profilePage","dialogsPage","usersPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.e2ea3e28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navBar_nav__sOiFi\",\"item\":\"navBar_item__3PJ6y\",\"activeLink\":\"navBar_activeLink__2Daph\"};","export default __webpack_public_path__ + \"static/media/default_avatar.f2be6b87.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"addMessageForm_formControl__2AMq-\",\"error\":\"addMessageForm_error__mgWRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3xkjA\",\"loginBlock\":\"header_loginBlock__2KYfm\"};","export default __webpack_public_path__ + \"static/media/Spinner-1s-300px.eadce372.svg\";","import spinner from \"../../../../assets/images/Spinner-1s-300px.svg\";\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <img src={spinner} alt=\"loading\"/>\r\n    );\r\n};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"profile/SET_STATUS\";\r\nconst DELETE_POST = \"profile/DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"profile/SAVE_PHOTO_SUCCESS\";\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 11},\r\n        {id: 2, message: \"It's my first post\", likesCount: 22},\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n};\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: \"\",\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            };\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status: status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        return Promise.reject(response.data.messages);\r\n    }\r\n};","import avatar from \"../assets/images/default_avatar.jpg\"\r\n\r\nconst SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nconst initialState = {\r\n    dataDialog: [\r\n        {id: 1, name: \"Dimych\", img: avatar},\r\n        {id: 2, name: \"Andrey\", img: avatar},\r\n        {id: 3, name: \"Sveta\", img: avatar},\r\n        {id: 4, name: \"Sasha\", img: avatar},\r\n        {id: 5, name: \"Victor\", img: avatar},\r\n        {id: 6, name: \"Valera\", img: avatar},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 4, message: \"Yo\"},\r\n        {id: 5, message: \"Yo\"},\r\n    ],\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(i => {\r\n        if (i[objPropName] === itemId) {\r\n            return {...i, ...newObjProps};\r\n        }\r\n        return i;\r\n    });\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount};\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const response = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n    };\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.unfollow, unfollowSuccess);\r\n    };\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"welcome\":\"welcome_welcome__2l93p\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"b45f20e6-c418-486d-bf45-21bf8191b135\"\r\n    },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","import style from \"./navBar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const NavBar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.item}>\r\n                <NavLink to={\"/profile\"} activeClassName={style.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to={\"/dialogs\"} activeClassName={style.activeLink}>Dialogs</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to={\"/users\"} activeClassName={style.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to={\"/login\"} activeClassName={style.activeLink}>Login</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n};","import style from \"./header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Header = ({isAuth, login, logout}) => {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src=\"https://seeklogo.com/images/C/company-name-logo-C74A7D6F5A-seeklogo.com.png\" alt=\"img\"/>\r\n            <div className={style.loginBlock}>\r\n                {isAuth\r\n                    ? <div>\r\n                        {login} -\r\n                        <button onClick={logout}>Log out</button>\r\n                    </div>\r\n                    : <NavLink to={\"/login\"}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n};","import {authAPI, securityAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\nconst SET_ERROR_LOGIN = \"auth/SET_ERROR_LOGIN\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    errorMessage: null,\r\n    captchaUrl: null, // if null, then captcha is not required\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        case SET_ERROR_LOGIN:\r\n            return {\r\n                ...state,\r\n                errorMessage: action.errorMessage,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\r\nexport const setErrorLogin = (errorMessage) => ({type: SET_ERROR_LOGIN, errorMessage});\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        const {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        // success, get auth data\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        dispatch(setErrorLogin(response.data.messages[0]));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};","import {Header} from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nconst HeaderContainer = ({isAuth, login, logout}) => {\r\n    return (\r\n        <Header isAuth={isAuth} login={login} logout={logout}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import {useForm} from \"react-hook-form\";\r\nimport style from \"../addMessageForm/addMessageForm.module.css\";\r\n\r\nexport const LoginForm = ({errorMessage, login, captchaUrl}) => {\r\n    const {\r\n        register, handleSubmit,\r\n        formState: {errors}\r\n    } = useForm();\r\n\r\n    const onSubmit = (data) => {\r\n        login(data.email, data.password, data.rememberMe, data.captcha);\r\n    };\r\n\r\n    const fieldOption = ({\r\n        required: \"Field is required\",\r\n        minLength: {\r\n            value: 2,\r\n            message: \"Less than 2\"\r\n        }\r\n    });\r\n\r\n    const errorSpan = (field) => {\r\n        return errors[field] && <span>{errors[field].message}</span>;\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div>Use email: free@samuraijs.com</div>\r\n            <div>Use password: free</div>\r\n            <div className={style.formControl}>\r\n                <div>\r\n                    <input className={errors.email ? style.error : \"\"}\r\n                           type=\"text\" placeholder={\"Email\"}\r\n                           {...register(\"email\", (fieldOption))}/>\r\n                </div>\r\n                {errorSpan(\"email\")}\r\n                <div>\r\n                    <input className={errors.password ? style.error : \"\"}\r\n                           type=\"password\" placeholder={\"Password\"}\r\n                           {...register(\"password\", (fieldOption))}/>\r\n                </div>\r\n                {errorSpan(\"password\")}\r\n                <div>\r\n                    <input type=\"checkbox\" {...register(\"rememberMe\")}/> remember me\r\n                </div>\r\n                <div>\r\n                    {errorMessage && <span>{errorMessage}</span>}\r\n                </div>\r\n                {captchaUrl && <img src={captchaUrl} alt=\"captcha\"/>}\r\n                {captchaUrl && <div>\r\n                    <input className={errors.captcha ? style.error : \"\"}\r\n                           type=\"text\" placeholder={\"Captcha\"}\r\n                           {...register(\"captcha\", ({required: \"Field is required\"}))}/>\r\n                </div>}\r\n                <div>\r\n                    <input type=\"submit\" value={\"Login\"}/>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n};","import {LoginForm} from \"./loginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, setErrorLogin} from \"../../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginContainer = ({isAuth, login, errorMessage, captchaUrl}) => {\r\n    if (isAuth) {\r\n        return <Redirect to={\"profile\"}/>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginForm errorMessage={errorMessage} login={login} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        errorMessage: state.auth.errorMessage,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    login, setErrorLogin,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promise =  dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n};","export default __webpack_public_path__ + \"static/media/welcome-home-welcome-home-de.842af542.jpg\";","import welcome from \"../../../assets/images/welcome-home-welcome-home-de.jpg\"\r\nimport style from \"./welcome.module.css\"\r\n\r\nexport const Welcome = () => {\r\n    return (\r\n        <div className={style.welcome}>\r\n            <img src={welcome} alt=\"welcome\"/>\r\n        </div>\r\n    )\r\n}","\r\n\r\nexport const NotFound = () => {\r\n    return (\r\n        <div>Not Found</div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    state = {\r\n        error: false\r\n    };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({error: true});\r\n        console.log(errorInfo)\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <img src=\"https://miro.medium.com/max/700/1*v4dLIlWpJkCiSDKv7xguLA.png\" alt=\"error\"/>;\r\n        }\r\n        return this.props.children;\r\n    }\r\n}","import {lazy, Suspense} from 'react';\r\nimport \"./app.css\";\r\nimport {NavBar} from \"../navBar/navBar\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport HeaderContainer from \"../header/headerContainer\";\r\nimport LoginContainer from \"../content/login/loginContainer\";\r\nimport {useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"../../redux/app-reducer\";\r\nimport {Preloader} from \"../content/common/preloader/preloader\";\r\nimport {Welcome} from \"../content/welcome/welcome\";\r\nimport {NotFound} from \"../content/notFound/notFound\";\r\nimport ErrorBoundary from \"../content/errorBoundary/errorBoundary\";\r\n\r\nconst ProfileContainer = lazy(() => import(\"../content/profile/profileContainer\"));\r\nconst UsersContainer = lazy(() => import(\"../content/users/usersContainer\"));\r\nconst DialogsContainer = lazy(() => import(\"../content/dialogs/dialogs-container\"));\r\n\r\nconst App = ({initialized, initializeApp}) => {\r\n\r\n    useEffect(() => {\r\n        initializeApp();\r\n    }, [initializeApp]);\r\n\r\n    const preloader = (\r\n        <div className={\"app-wrapper\"}>\r\n            <Preloader/>\r\n        </div>\r\n    );\r\n\r\n    if (!initialized) return preloader;\r\n    return (\r\n        <div className={\"app-wrapper\"}>\r\n            <ErrorBoundary>\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <div className={\"app-wrapper-content\"}>\r\n                    <Suspense fallback={preloader}>\r\n                        <Switch>\r\n                            <Route path={\"/\"} exact component={Welcome}/>\r\n                            <Route path={\"/profile/:userId?\"} component={ProfileContainer}/>\r\n                            <Route path={\"/dialogs\"} component={DialogsContainer}/>\r\n                            <Route path={\"/users\"} component={UsersContainer}/>\r\n                            <Route path={\"/login\"} component={LoginContainer}/>\r\n                            <Route component={NotFound}/>\r\n                        </Switch>\r\n                    </Suspense>\r\n                </div>\r\n            </ErrorBoundary>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    initializeApp,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store =\r\n    createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/app/app';\r\nimport {store} from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        {/*HashRouter for github pages / BrowserRouter*/}\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}