(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[0],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return j}));var r=n(7),a=n(84),c=n(20),i=n(141),s=n(191),o=n(50),u=n(1),l=function(e){var t=e.sendMessage,n=e.maxLength,c=Object(a.a)(),i=c.register,s=c.handleSubmit,o=c.formState.errors;return Object(u.jsx)("form",{onSubmit:s((function(e){t(e.newMessageBody)})),children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",Object(r.a)({placeholder:"Enter your message"},i("newMessageBody",{required:"Field is required",maxLength:{value:n,message:"Max length is ".concat(n," symbols")}})))}),o.newMessageBody&&Object(u.jsx)("span",{children:o.newMessageBody.message}),Object(u.jsx)("input",{type:"submit",value:"Send"})]})})},j=function(e){var t=e.sendMessage;return Object(u.jsx)(c.c,{initialValues:{input:""},onSubmit:function(e){return t(e.input)},children:function(e){var t=e.submitForm,n=e.isSubmitting;return Object(u.jsx)(c.b,{children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(c.a,{component:o.c,name:"input",label:"Add new post",helperText:"Enter your message",style:{width:250}}),Object(u.jsx)(i.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(u.jsx)(s.a,{onClick:t,disabled:n,children:"Send"})})]})})}})}},111:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var r=n(21),a=n(7),c=n(35),i={dataDialog:[{id:1,name:"Dimych",img:c.a},{id:2,name:"Andrey",img:c.a},{id:3,name:"Sveta",img:c.a},{id:4,name:"Sasha",img:c.a},{id:5,name:"Victor",img:c.a},{id:6,name:"Valera",img:c.a}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}},o={sendMessage:function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}}},186:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n.n(c),s=n(12),o=n.n(s),u=n(16),l=n(18),j=n(224),d=n(237),b=n(238),O=n(227),f=n(67),h=n(191),p=n(126),x=n.n(p),m=n(26),g=n(7),v=n(4),S=n(28),w=n(249),y=n(228),C=n(229),k=n(190),E=n(230),P=n(231),I=n(117),_=n.n(I),T=n(116),N=n.n(T),U=n(118),A=n.n(U),F=n(119),L=n.n(F),M=n(120),R=n.n(M),D=n(1),G=Object(j.a)((function(e){return{drawer:{width:xe,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:xe,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}})),z=function(e){var t,n,r=e.handleDrawerClose,a=e.open,c=Object(S.a)(),i=G(c),s=Object(l.g)();return Object(D.jsxs)(w.a,{variant:"permanent",className:Object(v.a)(i.drawer,(t={},Object(m.a)(t,i.drawerOpen,a),Object(m.a)(t,i.drawerClose,!a),t)),classes:{paper:Object(v.a)((n={},Object(m.a)(n,i.drawerOpen,a),Object(m.a)(n,i.drawerClose,!a),n))},children:[Object(D.jsx)("div",{className:i.toolbar,children:Object(D.jsx)(O.a,{onClick:r,children:"rtl"===c.direction?Object(D.jsx)(N.a,{}):Object(D.jsx)(_.a,{})})}),Object(D.jsx)(y.a,{}),Object(D.jsxs)(C.a,{children:[Object(D.jsxs)(k.a,{button:!0,onClick:function(){return s.push("/profile")},children:[Object(D.jsx)(E.a,{children:Object(D.jsx)(A.a,{})}),Object(D.jsx)(P.a,{primary:"Profile"})]}),Object(D.jsxs)(k.a,{button:!0,onClick:function(){return s.push("/dialogs")},children:[Object(D.jsx)(E.a,{children:Object(D.jsx)(L.a,{})}),Object(D.jsx)(P.a,{primary:"Dialogs"})]}),Object(D.jsxs)(k.a,{button:!0,onClick:function(){return s.push("/users")},children:[Object(D.jsx)(E.a,{children:Object(D.jsx)(R.a,{})}),Object(D.jsx)(P.a,{primary:"Users"})]})]})]})},B=n(127),W=n.n(B),J=n(125),V=n.n(J),H=n(15),q=n(9),Z=n.n(q),Y=n(13),X=n(122),K=n.n(X).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b45f20e6-c418-486d-bf45-21bf8191b135"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}));var $=function(){return K.get("auth/me").then((function(e){return e.data}))},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return K.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},ee=function(){return K.delete("auth/login")},te=function(){return K.get("security/get-captcha-url").then((function(e){return e.data}))},ne={userId:null,email:null,login:null,isAuth:!1,errorMessage:null,captchaUrl:void 0},re=function(e,t,n,r){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},ae=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},ce=function(e){return{type:"SET_ERROR_LOGIN",errorMessage:e}},ie=function(){return function(){var e=Object(Y.a)(Z.a.mark((function e(t){var n,a,c,i,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:(n=e.sent).resultCode===r.Success&&(a=n.data,c=a.id,i=a.login,s=a.email,t(re(c,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se=function(){return function(){var e=Object(Y.a)(Z.a.mark((function e(t){var n,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:n=e.sent,r=n.url,t(ae(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=n(233),ue=n(234),le=n(235),je=n(141),de=n(232),be=n(236),Oe=n(20),fe=n(50),he=function(e){var t=e.errorMessage,n=e.onSubmit,r=e.captchaUrl,a=Object(c.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],l=function(){o(!1)};return Object(D.jsxs)("div",{children:[Object(D.jsx)(h.a,{variant:"outlined",color:"secondary",onClick:function(){o(!0)},children:"Login"}),Object(D.jsxs)(oe.a,{open:s,onClose:l,"aria-labelledby":"form-dialog-title",children:[Object(D.jsx)(ue.a,{id:"form-dialog-title",children:"Login"}),Object(D.jsxs)(le.a,{children:[Object(D.jsx)(f.a,{variant:"subtitle1",children:"Please use test email: "}),Object(D.jsx)(f.a,{variant:"h4",children:"free@samuraijs.com"}),Object(D.jsx)(f.a,{variant:"subtitle1",children:"Please use test password: "}),Object(D.jsx)(f.a,{variant:"h4",children:"free"}),Object(D.jsx)(Oe.c,{initialValues:{email:"free@samuraijs.com",password:"free",rememberMe:!1,captcha:void 0},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:n,children:Object(D.jsxs)(Oe.b,{children:[Object(D.jsx)(je.a,{margin:1,children:Object(D.jsx)(Oe.a,{component:fe.c,name:"email",type:"email",label:"Email",helperText:"email"})}),Object(D.jsx)(je.a,{margin:1,children:Object(D.jsx)(Oe.a,{component:fe.c,type:"password",label:"Password",name:"password"})}),Object(D.jsx)(je.a,{margin:1,children:Object(D.jsx)(de.a,{control:Object(D.jsx)(Oe.a,{component:fe.b,type:"checkbox",name:"rememberMe"}),label:"Remember me"})}),Object(D.jsxs)(je.a,{margin:1,children:[r&&Object(D.jsx)("img",{style:{display:"inherit"},src:r,alt:"captcha"}),r&&Object(D.jsx)(Oe.a,{component:fe.c,type:"captcha",label:"Captcha",name:"captcha"}),t&&Object(D.jsx)(je.a,{margin:2,children:Object(D.jsx)(f.a,{variant:"subtitle1",style:{color:"red",backgroundColor:"white"},children:t})})]}),Object(D.jsxs)(be.a,{children:[Object(D.jsx)(h.a,{onClick:l,children:"Cancel"}),Object(D.jsx)(h.a,{type:"submit",children:"Login"})]})]})})]})]})]})},pe=function(){var e=Object(H.d)((function(e){return e.auth.captchaUrl})),t=Object(H.d)((function(e){return e.auth.errorMessage})),n=Object(H.c)();return Object(D.jsx)(he,{errorMessage:t,onSubmit:function(e){var t,c,i,s;n((t=e.email,c=e.password,i=e.rememberMe,s=e.captcha,function(){var e=Object(Y.a)(Z.a.mark((function e(n){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(t,c,i,s).then((function(e){e.resultCode===r.Success?n(ie()):(e.resultCode===a.CaptchaIsRequired&&n(se()),n(ce(e.messages[0])))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:e})},xe=200,me=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:36},hide:{display:"none"},toolbar:{justifyContent:"space-between"},title:{marginLeft:20,color:"black",cursor:"pointer"},login:{display:"flex",alignItems:"center"},empty:{flexGrow:1},name:{marginRight:12}}})),ge=function(e){var t=e.isAuth,n=e.login,r=e.logout,a=e.darkMode,i=e.setDarkMode,s=me(),o=Object(c.useState)(!1),j=Object(u.a)(o,2),p=j[0],m=j[1],g=Object(l.g)(),v=function(){m(!1)};return Object(D.jsxs)("div",{className:s.root,children:[Object(D.jsx)(d.a,{position:"fixed",className:s.appBar,children:Object(D.jsxs)(b.a,{className:s.toolbar,children:[p?Object(D.jsx)(O.a,{onClick:v,color:"inherit",edge:"start",children:Object(D.jsx)(V.a,{})}):Object(D.jsx)(O.a,{color:"inherit",onClick:function(){m(!0)},edge:"start",children:Object(D.jsx)(x.a,{})}),Object(D.jsx)(f.a,{onClick:function(){return g.push("/")},variant:"h6",noWrap:!0,className:s.title,children:"Social network"}),Object(D.jsx)("div",{className:s.empty}),Object(D.jsxs)("div",{className:s.login,children:[Object(D.jsx)(O.a,{color:"secondary",onClick:function(){return i(!a)},children:Object(D.jsx)(W.a,{})}),Object(D.jsx)("div",{children:t?Object(D.jsxs)("div",{className:s.login,children:[Object(D.jsx)(f.a,{className:s.name,variant:"h6",children:n}),Object(D.jsx)(h.a,{color:"secondary",variant:"outlined",onClick:r,children:"Log out"})]}):Object(D.jsx)(pe,{})})]})]})}),Object(D.jsx)(z,{open:p,handleDrawerClose:v})]})},ve={logout:function(){return function(){var e=Object(Y.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:e.sent.data.resultCode===r.Success&&t(re(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Se=Object(H.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),ve)((function(e){var t=e.isAuth,n=e.login,r=e.logout,a=e.darkMode,c=e.setDarkMode;return Object(D.jsx)(ge,{isAuth:t,login:n,logout:r,darkMode:a,setDarkMode:c})})),we={initialized:!1},ye=function(){return{type:"INITIALIZED_SUCCESS"}},Ce=n(239),ke=function(){var e=Object(S.a)();return Object(D.jsx)(Ce.a,{style:{backgroundColor:"#303030",marginBottom:e.spacing(2)}})},Ee=n.p+"static/media/login-key-flat-isometric_126523-1865.08ec80bf.jpg",Pe=n(240),Ie=Object(j.a)((function(e){return{root:{padding:e.spacing(2)},item:{margin:e.spacing(2)},img:{width:"100%"}}})),_e=function(){var e=Object(S.a)(),t=Ie(e);return Object(D.jsxs)(Pe.a,{container:!0,className:t.root,children:[Object(D.jsx)(Pe.a,{item:!0,className:t.item,sm:3,children:Object(D.jsx)("img",{className:t.img,src:Ee,alt:"welcome"})}),Object(D.jsxs)(Pe.a,{item:!0,className:t.item,sm:8,children:[Object(D.jsx)(f.a,{variant:"h4",children:"\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c!"}),Object(D.jsx)("br",{}),Object(D.jsxs)(f.a,{variant:"h6",children:["\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \u0432\u0430\u0441 \u043d\u0430 \u043c\u043e\u0451\u043c \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435. \u0417\u0434\u0435\u0441\u044c \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0447\u0435\u0440\u0435\u0437 email \u0438 \u043f\u0430\u0440\u043e\u043b\u044c. \u041d\u043e \u043d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0439\u0442\u0435\u0441\u044c, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0436\u0435 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 Login \u0444\u043e\u0440\u043c\u0435. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0430 Dialogs \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 (\u0431\u0435\u0437 \u0432\u0445\u043e\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0451\u0442 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443).",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),"\u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u0440\u044f\u0434\u043e\u043c \u0441 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 Login, \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443 \u0441 \u0442\u0451\u043c\u043d\u043e\u0439 \u043d\u0430 \u0441\u0432\u0435\u0442\u043b\u0443\u044e."]})]})]})},Te=function(){return Object(D.jsx)("div",{children:"Not Found"})},Ne=n(65),Ue=n(66),Ae=n(137),Fe=n(136),Le=function(e){Object(Ae.a)(n,e);var t=Object(Fe.a)(n);function n(){var e;Object(Ne.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:!1},e}return Object(Ue.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0}),console.log(t)}},{key:"render",value:function(){return this.state.error?Object(D.jsx)("img",{src:"https://miro.medium.com/max/700/1*v4dLIlWpJkCiSDKv7xguLA.png",alt:"error"}):this.props.children}}]),n}(i.a.Component),Me=n(247),Re=n(248),De=n(135),Ge=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus,a=e.isOwner,i=Object(c.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(),d=Object(u.a)(j,2),b=d[0],O=d[1];Object(c.useEffect)((function(){O(n)}),[n]);return t?Object(D.jsx)("div",{children:o?Object(D.jsx)("div",{children:Object(D.jsx)("input",{onChange:function(e){O(e.currentTarget.value)},autoFocus:!0,onBlur:function(){return l(!1),void r(b)},type:"text",defaultValue:b})}):Object(D.jsx)("div",{children:Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"Status: "}),Object(D.jsx)("span",{onDoubleClick:a?function(){l(!0)}:void 0,children:b||"No status"})]})})}):Object(D.jsx)(ke,{})},ze=n(35),Be=n(84),We=function(e){var t=e.profile,n=e.saveProfile,r=e.setEditMode,a=Object(c.useState)([]),i=Object(u.a)(a,2),s=i[0],o=i[1],l=Object(Be.a)({defaultValues:{fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:{facebook:t.contacts.facebook,website:t.contacts.website,vk:t.contacts.vk,twitter:t.contacts.twitter,instagram:t.contacts.instagram,youtube:t.contacts.youtube,github:t.contacts.github,mainLink:t.contacts.mainLink}}}),j=l.register,d=l.handleSubmit;return Object(D.jsx)("form",{onSubmit:d((function(e){n(e).then((function(){return r(!1)})).catch((function(e){return o(e)}))})),children:Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{children:Object(D.jsx)("button",{children:"save"})}),s.map((function(e){return Object(D.jsx)("div",{children:e},e)})),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"Full name: "}),Object(D.jsx)("div",{children:Object(D.jsx)("input",Object(g.a)({type:"text",placeholder:"Full name"},j("fullName")))})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"Looking for a job: "}),Object(D.jsx)("div",{children:Object(D.jsx)("input",Object(g.a)({type:"checkbox"},j("lookingForAJob")))})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"My professional skills: "}),Object(D.jsx)("div",{children:Object(D.jsx)("textarea",Object(g.a)({placeholder:"My professional skills"},j("lookingForAJobDescription")))})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"About me: "}),Object(D.jsx)("div",{children:Object(D.jsx)("textarea",Object(g.a)({placeholder:"About me"},j("aboutMe")))})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:"Contacts: "}),Object(D.jsx)("div",{children:Object.keys(t.contacts).map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsxs)("b",{children:[e,": "]}),Object(D.jsx)("input",Object(g.a)({type:"text",placeholder:e},j("contacts.".concat(e))))]},e)}))})]})]})]})})},Je=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus,a=e.isOwner,i=e.savePhoto,s=e.saveProfile,o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],d=l[1];return t?Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("img",{src:t.photos.large||ze.a,alt:"img"}),j?Object(D.jsx)(We,{profile:t,saveProfile:s,setEditMode:d}):Object(D.jsx)(Ve,{profile:t,goToEditMode:function(){return d(!0)},isOwner:a}),Object(D.jsx)(Ge,{profile:t,status:n,updateUserStatus:r,isOwner:a})]}),a&&Object(D.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&i(e.target.files[0])}})]}):Object(D.jsx)(ke,{})},Ve=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object(D.jsxs)("div",{children:[n&&Object(D.jsx)("button",{onClick:r,children:"edit"}),Object(D.jsxs)("div",{children:[Object(D.jsx)(f.a,{variant:"subtitle1",children:"Full name:"}),Object(D.jsx)(f.a,{variant:"subtitle2",children:t.fullName})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(f.a,{variant:"subtitle1",children:"Looking for a job:"}),Object(D.jsx)(f.a,{variant:"subtitle2",children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob&&Object(D.jsxs)("div",{children:[Object(D.jsx)(f.a,{variant:"subtitle1",children:"My professional skills:"}),Object(D.jsx)(f.a,{variant:"subtitle2",children:t.lookingForAJobDescription})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(f.a,{variant:"subtitle1",children:"About me:"}),Object(D.jsx)(f.a,{variant:"subtitle2",children:t.aboutMe})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(f.a,{variant:"subtitle1",children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return Object(D.jsx)(He,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},He=function(e){var t=e.contactTitle,n=e.contactValue;return Object(D.jsxs)("div",{children:[Object(D.jsxs)(f.a,{variant:"subtitle1",children:[t,": "]}),n]})},qe=n(21),Ze=function(e){return K.get("profile/".concat(e)).then((function(e){return e.data}))},Ye=function(e){return K.get("profile/status/".concat(e)).then((function(e){return e.data}))},Xe=function(e){return K.put("profile/status",{status:e}).then((function(e){return e.data}))},Ke=function(e){var t=new FormData;return t.append("image",e),K.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},$e=function(e){return K.put("profile",e).then((function(e){return e.data}))},Qe={posts:[{id:1,message:"Hi, how are you?",likesCount:11},{id:2,message:"It's my first post",likesCount:22}],profile:null,status:"",newPostText:""},et={addPost:function(e){return{type:"ADD_POST",newPostText:e}},setUserProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"SET_STATUS",status:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},savePhotoSuccess:function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}}},tt=function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze(e);case 2:r=t.sent,n(et.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},nt=n(241),rt=n(242),at=Object(j.a)((function(e){return{info:{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(2)},content:{display:"flex",flexDirection:"column"},img:{height:"100px",borderRadius:"50%",marginBottom:e.spacing(1)}}})),ct=function(e){var t=e.message,n=e.likesCount,r=Object(S.a)(),a=at(r);return Object(D.jsx)(nt.a,{className:a.info,children:Object(D.jsxs)(rt.a,{className:a.content,children:[Object(D.jsx)("img",{className:a.img,src:ze.a,alt:"avatar"}),Object(D.jsxs)("div",{children:[Object(D.jsx)(f.a,{variant:"body1",align:"center",children:t}),Object(D.jsxs)(f.a,{variant:"body2",align:"left",children:["like: ",n]})]})]})})},it=n(110),st=Object(j.a)((function(e){return{title:{marginBottom:e.spacing(1)}}})),ot=function(e){var t=e.posts,n=e.addPost,r=Object(S.a)(),a=st(r);return Object(D.jsxs)("div",{children:[Object(D.jsx)(nt.a,{children:Object(D.jsxs)(rt.a,{children:[Object(D.jsx)(f.a,{className:a.title,variant:"h5",children:"My Posts"}),Object(D.jsx)(it.b,{sendMessage:n})]})}),Object(D.jsx)("div",{children:t.map((function(e){return Object(D.jsx)(ct,{message:e.message,likesCount:e.likesCount},e.id)}))})]})},ut={addPost:et.addPost},lt=Object(H.b)((function(e){return{posts:e.profilePage.posts}}),ut)((function(e){var t=e.posts,n=e.addPost;return Object(D.jsx)(ot,{posts:t,addPost:n})})),jt=n(97),dt=Object(j.a)((function(e){return{info:{margin:e.spacing(2),padding:e.spacing(2)},paper:{margin:e.spacing(2)}}})),bt=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus,a=e.isOwner,c=e.savePhoto,i=e.saveProfile,s=Object(S.a)(),o=dt(s);return t?Object(D.jsxs)(Pe.a,{container:!0,children:[Object(D.jsx)(Pe.a,{item:!0,children:Object(D.jsx)(jt.a,{className:o.info,children:Object(D.jsx)(Je,{profile:t,status:n,updateUserStatus:r,isOwner:a,savePhoto:c,saveProfile:i})})}),Object(D.jsx)(Pe.a,{item:!0,className:o.paper,children:Object(D.jsx)(lt,{})})]}):Object(D.jsx)(ke,{})},Ot={getUserProfile:tt,getUserStatus:function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye(e);case 2:r=t.sent,n(et.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe(e);case 2:0===t.sent.resultCode&&n(et.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ke(e);case 2:0===(r=t.sent).resultCode&&n(et.savePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n,r){var a,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,$e(e);case 3:if(0!==(c=t.sent).resultCode){t.next=13;break}if(null===a){t.next=10;break}return t.next=8,n(tt(a));case 8:t.next=11;break;case 10:throw new Error("userId can't be null");case 11:t.next=14;break;case 13:return t.abrupt("return",Promise.reject(c.messages));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},ft=Object(H.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),Ot)((function(e){var t=e.profile,n=e.status,r=e.authorizedUserId,a=e.getUserProfile,i=e.getUserStatus,s=e.updateUserStatus,o=e.savePhoto,u=e.saveProfile,j=Object(l.h)().userId||r||16528;return Object(c.useEffect)((function(){a(+j),i(+j)}),[i,a,j]),Object(D.jsx)(bt,{profile:t,status:n,updateUserStatus:s,isOwner:j===r,savePhoto:o,saveProfile:u})})),ht=n(128),pt=n.n(ht),xt=n(131),mt=n.n(xt),gt=n(130),vt=n.n(gt),St=n(129),wt=n.n(St),yt=Object(j.a)({root:{display:"flex"}}),Ct=function(e){var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,i=e.portionSize,s=void 0===i?10:i,o=Object(c.useState)(1),l=Object(u.a)(o,2),j=l[0],d=l[1],b=yt(),f=Math.ceil(t/n),p=Array.from({length:f},(function(e,t){return t+1})),x=Math.ceil(f/s),m=(j-1)*s+1,g=j*s;return Object(D.jsxs)("div",{className:b.root,children:[j>1&&Object(D.jsxs)("div",{children:[Object(D.jsx)(O.a,{onClick:function(){d(1)},children:Object(D.jsx)(pt.a,{})}),Object(D.jsx)(O.a,{onClick:function(){d(j-1)},children:Object(D.jsx)(wt.a,{})})]}),p.filter((function(e){return e>=m&&e<=g})).map((function(e){return e===r?Object(D.jsx)(h.a,{variant:"outlined",onClick:function(){return a(e)},children:e},e):Object(D.jsx)(h.a,{onClick:function(){return a(e)},children:e},e)})),x>j&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(O.a,{onClick:function(){d(j+1)},children:Object(D.jsx)(vt.a,{})}),Object(D.jsx)(O.a,{onClick:function(){d(x)},children:Object(D.jsx)(mt.a,{})})]})]})},kt=n(51),Et=n(245),Pt=n(243),It=n(244),_t=Object(j.a)({root:{width:270,height:370,margin:"8px"},media:{height:"200px"}}),Tt=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow,c=_t();return Object(D.jsx)(Pe.a,{item:!0,children:Object(D.jsxs)(nt.a,{className:c.root,children:[Object(D.jsxs)(Pt.a,{component:kt.b,to:"/profile/".concat(t.id),children:[Object(D.jsx)(It.a,{className:c.media,image:t.photos.large?t.photos.large:ze.a,title:t.name}),Object(D.jsxs)(rt.a,{children:[Object(D.jsxs)(f.a,{noWrap:!0,gutterBottom:!0,variant:"h6",component:"h2",children:["Name:",Object(D.jsx)("br",{}),t.name]}),Object(D.jsxs)(f.a,{noWrap:!0,variant:"body2",color:"textSecondary",component:"p",children:["Status: ",t.status||"No status"]})]})]}),Object(D.jsx)(Et.a,{children:t.followed?Object(D.jsx)(h.a,{variant:"contained",fullWidth:!0,size:"small",disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id)},children:"Unfollow"}):Object(D.jsx)(h.a,{variant:"contained",fullWidth:!0,size:"small",disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"Follow"})})]})})},Nt=n(250),Ut=n(246),At=n(132),Ft=n.n(At),Lt=n(14),Mt=Object(j.a)((function(e){return{root:{margin:e.spacing(2)},select:{width:141},search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Lt.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Lt.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),Rt=function(e){return{}},Dt=function(e){var t=e.onFilterChanged,n=Mt(Object(S.a)());return Object(D.jsx)("div",{className:n.root,children:Object(D.jsx)(Oe.c,{initialValues:{term:"",friend:"null"},onSubmit:function(e,n){var r=n.setSubmitting,a={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(a),r(!1)},validate:Rt,children:function(e){var t=e.values,r=(e.errors,e.touched,e.handleChange),a=e.handleBlur,c=(e.handleSubmit,e.isSubmitting);return Object(D.jsx)(Oe.b,{children:Object(D.jsxs)("div",{className:n.search,children:[Object(D.jsx)("div",{className:n.searchIcon,children:Object(D.jsx)(Ft.a,{})}),Object(D.jsx)(Oe.a,{component:Nt.a,placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},id:"term",onChange:r,onBlur:a,value:t.term}),Object(D.jsxs)(Oe.a,{className:n.select,component:fe.a,type:"text",name:"friend",variant:"standard",children:[Object(D.jsx)(Ut.a,{value:"null",children:"All"}),Object(D.jsx)(Ut.a,{value:"true",children:"Only followed"}),Object(D.jsx)(Ut.a,{value:"false",children:"Only unfollowed"})]}),Object(D.jsx)(h.a,{type:"submit",disabled:c,children:"Submit"})]})})}})})},Gt=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(g.a)(Object(g.a)({},e),r):e}))},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return K.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},Bt=function(e){return K.post("follow/".concat(e)).then((function(e){return e.data}))},Wt=function(e){return K.delete("follow/".concat(e)).then((function(e){return e.data}))},Jt={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:"",friend:null}},Vt=function(e){return{type:"FOLLOW",userId:e}},Ht=function(e){return{type:"UNFOLLOW",userId:e}},qt=function(e){return{type:"SET_USERS",users:e}},Zt=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Yt=function(e){return{type:"SET_FILTER",payload:e}},Xt=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e}},Kt=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},$t=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Qt=function(e,t,n){return function(){var r=Object(Y.a)(Z.a.mark((function r(a){var c;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Kt(!0)),a(Zt(e)),a(Yt(n)),r.next=5,zt(e,t,n.term,n.friend);case 5:c=r.sent,a(Kt(!1)),a(qt(c.items)),a(Xt(c.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},en=function(){var e=Object(Y.a)(Z.a.mark((function e(t,n,r,a){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t($t(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t($t(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),tn=n(133),nn=Object(tn.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),rn=function(e){return e.usersPage.pageSize},an=function(e){return e.usersPage.totalUsersCount},cn=function(e){return e.usersPage.currentPage},sn=function(e){return e.usersPage.isFetching},on=function(e){return e.usersPage.followingInProgress},un=function(e){return e.usersPage.filter},ln=Object(j.a)({root:{flexDirection:"column",alignItems:"center",flexWrap:"wrap"},cards:{margin:20,display:"flex",flexWrap:"wrap",justifyContent:"center"}}),jn=i.a.memo((function(){var e=Object(H.d)(nn),t=Object(H.d)(rn),n=Object(H.d)(an),r=Object(H.d)(cn),a=Object(H.d)(un),i=Object(H.d)(on),s=Object(H.c)();Object(c.useEffect)((function(){s(Qt(r,t,a))}),[r,s,a,t]);var o=function(e){s(function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,en(n,e,Bt,Vt);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},u=function(e){s(function(e){return function(){var t=Object(Y.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,en(n,e,Wt,Ht);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},l=ln();return Object(D.jsxs)(Pe.a,{container:!0,className:l.root,children:[Object(D.jsx)(Pe.a,{item:!0,children:Object(D.jsx)(Dt,{onFilterChanged:function(e){s(Qt(1,t,e))}})}),Object(D.jsx)(Pe.a,{item:!0,children:Object(D.jsx)(Ct,{totalItemsCount:n,pageSize:t,currentPage:r,onPageChanged:function(e){s(Qt(e,t,a))}})}),Object(D.jsx)(Pe.a,{item:!0,className:l.cards,children:e.map((function(e,t){return Object(D.jsx)(Tt,{user:e,followingInProgress:i,follow:o,unfollow:u},t)}))})]})})),dn=function(){var e=Object(H.d)(sn);return Object(D.jsxs)(D.Fragment,{children:[e?Object(D.jsx)(ke,{}):void 0,Object(D.jsx)(jn,{})]})};var bn,On=(bn=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,252))})),function(e){return Object(D.jsx)(i.a.Suspense,{fallback:Object(D.jsx)(ke,{}),children:Object(D.jsx)(bn,Object(g.a)({},e))})}),fn={initializeApp:function(){return function(){var e=Object(Y.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ie()).then((function(){t(ye())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},hn=Object(H.b)((function(e){return{initialized:e.app.initialized}}),fn)((function(e){var t=e.initialized,n=e.initializeApp,r=Object(c.useState)(!0),a=Object(u.a)(r,2),i=a[0],s=a[1];Object(c.useEffect)((function(){n()}),[n]);var o=Object(De.a)({palette:{type:i?"dark":"light",primary:{main:"#FFFFFFFF"},secondary:{main:"#000000FF"}}}),j=Object(D.jsx)("div",{className:"app-wrapper",children:Object(D.jsx)(ke,{})});return t?Object(D.jsxs)(Me.a,{theme:o,children:[Object(D.jsx)(Re.a,{}),Object(D.jsx)(Pe.a,{container:!0,direction:"column",children:Object(D.jsxs)(Le,{children:[Object(D.jsx)(Pe.a,{item:!0,children:Object(D.jsx)(Se,{darkMode:i,setDarkMode:s})}),Object(D.jsx)(Pe.a,{item:!0,style:{margin:56,padding:24},children:Object(D.jsx)(c.Suspense,{fallback:j,children:Object(D.jsxs)(l.d,{children:[Object(D.jsx)(l.b,{path:"/",exact:!0,component:_e}),Object(D.jsx)(l.b,{path:"/profile/:userId?",component:ft}),Object(D.jsx)(l.b,{path:"/dialogs",component:On}),Object(D.jsx)(l.b,{path:"/users",component:dn}),Object(D.jsx)(l.b,{component:Te})]})})})]})})]}):j})),pn=n(72),xn=n(111),mn=n(134),gn=Object(pn.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:5,message:t.newPostText,likesCount:0};return Object(g.a)(Object(g.a)({},e),{},{posts:[].concat(Object(qe.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(g.a)(Object(g.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{profile:Object(g.a)(Object(g.a)({},e.profile),{},{photos:t.photos})});default:return e}},dialogsPage:xn.b,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:Gt(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:Gt(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case"SET_FILTER":return Object(g.a)(Object(g.a)({},e),{},{filter:t.payload});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(qe.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(g.a)(Object(g.a)({},e),t.payload);case"SET_ERROR_LOGIN":return Object(g.a)(Object(g.a)({},e),{},{errorMessage:t.errorMessage});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}}}),vn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pn.c,Sn=Object(pn.d)(gn,vn(Object(pn.a)(mn.a)));o.a.render(Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(kt.a,{basename:"/social_network",children:Object(D.jsx)(H.a,{store:Sn,children:Object(D.jsx)(hn,{})})})}),document.getElementById("root"))},35:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.4084d3ab.svg"}},[[186,1,2]]]);
//# sourceMappingURL=main.0b50275d.chunk.js.map