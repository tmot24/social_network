(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{88:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var c=s(3),n=s(37),i=s(25),o=s.n(i),r=s(1),a=function(e){var t=e.sendMessage,s=e.maxLength,i=Object(n.a)(),a=i.register,j=i.handleSubmit,l=i.formState.errors;return Object(r.jsx)("form",{onSubmit:j((function(e){t(e.newMessageBody)})),children:Object(r.jsxs)("div",{className:o.a.formControl,children:[Object(r.jsx)("div",{children:Object(r.jsx)("textarea",Object(c.a)({className:l.newMessageBody?o.a.error:"",type:"text",placeholder:"Enter your message"},a("newMessageBody",{required:"Field is required",maxLength:{value:s,message:"Max length is ".concat(s," symbols")}})))}),l.newMessageBody&&Object(r.jsx)("span",{children:l.newMessageBody.message}),Object(r.jsx)("div",{}),Object(r.jsx)("input",{type:"submit",value:"Send"})]})})}},89:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var c=s(3),n=s(17),i=s(6),o=s(1),r=function(e){return{isAuth:e.auth.isAuth}},a=function(e){return Object(n.b)(r)((function(t){return t.isAuth?Object(o.jsx)(e,Object(c.a)({},t)):Object(o.jsx)(i.a,{to:"login"})}))}},90:function(e,t,s){e.exports={bgImg:"profileInfo_bgImg__3Ay7A",descriptionBlock:"profileInfo_descriptionBlock__2S594",avatar:"profileInfo_avatar__zeCMj",contact:"profileInfo_contact__3jMB8",error:"profileInfo_error__3iHhv"}},91:function(e,t,s){e.exports={postsBlock:"myPosts_postsBlock__3pXvt",posts:"myPosts_posts__obZMe"}},92:function(e,t,s){e.exports={item:"post_item__3QO81"}},98:function(e,t,s){"use strict";s.r(t);var c=s(16),n=s(90),i=s.n(n),o=s(36),r=s(0),a=s(1),j=function(e){var t=e.profile,s=e.status,n=e.updateUserStatus,i=e.isOwner,j=Object(r.useState)(!1),l=Object(c.a)(j,2),b=l[0],u=l[1],d=Object(r.useState)(),O=Object(c.a)(d,2),f=O[0],x=O[1];Object(r.useEffect)((function(){x(s)}),[s]);return t?Object(a.jsx)("div",{children:b?Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:function(e){x(e.currentTarget.value)},autoFocus:!0,onBlur:function(){return u(!1),void n(f)},type:"text",defaultValue:f})}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Status: "}),Object(a.jsx)("span",{onDoubleClick:i?function(){u(!0)}:null,children:f||"No status"})]})})}):Object(a.jsx)(o.a,{})},l=s(19),b=s(3),u=s(37),d=function(e){var t=e.profile,s=e.saveProfile,n=e.setEditMode,o=Object(r.useState)([]),j=Object(c.a)(o,2),l=j[0],d=j[1],O=Object(u.a)({defaultValues:{fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:{facebook:t.contacts.facebook,website:t.contacts.website,vk:t.contacts.vk,twitter:t.contacts.twitter,instagram:t.contacts.instagram,youtube:t.contacts.youtube,github:t.contacts.github,mainLink:t.contacts.mainLink}}}),f=O.register,x=O.handleSubmit;return Object(a.jsx)("form",{onSubmit:x((function(e){s(e).then((function(){return n(!1)})).catch((function(e){return d(e)}))})),children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"save"})}),l.map((function(e){return Object(a.jsx)("div",{className:i.a.error,children:e},e)})),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full name: "}),Object(a.jsx)("div",{children:Object(a.jsx)("input",Object(b.a)({type:"text",placeholder:"Full name"},f("fullName")))})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job: "}),Object(a.jsx)("div",{children:Object(a.jsx)("input",Object(b.a)({type:"checkbox"},f("lookingForAJob")))})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"My professional skills: "}),Object(a.jsx)("div",{children:Object(a.jsx)("textarea",Object(b.a)({type:"text",placeholder:"My professional skills"},f("lookingForAJobDescription")))})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About me: "}),Object(a.jsx)("div",{children:Object(a.jsx)("textarea",Object(b.a)({type:"text",placeholder:"About me"},f("aboutMe")))})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts: "}),Object(a.jsx)("div",{children:Object.keys(t.contacts).map((function(e){return Object(a.jsxs)("div",{className:i.a.contact,children:[Object(a.jsxs)("b",{children:[e,": "]}),Object(a.jsx)("input",Object(b.a)({type:"text",placeholder:e},f("contacts.".concat(e))))]},e)}))})]})]})]})})},O=function(e){var t=e.profile,s=e.status,n=e.updateUserStatus,b=e.isOwner,u=e.savePhoto,O=e.saveProfile,x=Object(r.useState)(!1),h=Object(c.a)(x,2),p=h[0],v=h[1];return t?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{className:i.a.bgImg,src:"https://image.jimcdn.com/app/cms/image/transf/none/path/s32f0c11b497c174c/backgroundarea/i10997fa6378f4ba6/version/1571363056/image.jpg",alt:"img"})}),Object(a.jsxs)("div",{className:i.a.descriptionBlock,children:[Object(a.jsx)("img",{className:i.a.avatar,src:t.photos.large||l.a,alt:"img"}),p?Object(a.jsx)(d,{profile:t,saveProfile:O,setEditMode:v}):Object(a.jsx)(f,{profile:t,goToEditMode:function(){return v(!0)},isOwner:b}),Object(a.jsx)(j,{profile:t,status:s,updateUserStatus:n,isOwner:b})]}),b&&Object(a.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&u(e.target.files[0])}})]}):Object(a.jsx)(o.a,{})},f=function(e){var t=e.profile,s=e.isOwner,c=e.goToEditMode;return Object(a.jsxs)("div",{children:[s&&Object(a.jsx)("button",{onClick:c,children:"edit"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full name"})," ",t.fullName]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"My professional skills:"})," ",t.lookingForAJobDescription]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return Object(a.jsx)(x,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},x=function(e){var t=e.contactTitle,s=e.contactValue;return Object(a.jsxs)("div",{className:i.a.contact,children:[Object(a.jsxs)("b",{children:[t,": "]}),s]})},h=s(17),p=s(38),v=s(91),g=s.n(v),m=s(92),k=s.n(m),P=function(e){var t=e.message,s=e.likesCount;return Object(a.jsxs)("div",{className:k.a.item,children:[Object(a.jsx)("img",{src:l.a,alt:"avatar"}),t,Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"like: "}),Object(a.jsx)("span",{children:s})]})]})},y=s(88),_=function(e){var t=e.posts,s=e.addPost;return Object(a.jsxs)("div",{className:g.a.postsBlock,children:[Object(a.jsx)("h3",{children:"My Posts"}),Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{sendMessage:s,maxLength:10})}),Object(a.jsx)("div",{className:g.a.posts,children:t.map((function(e){return Object(a.jsx)(P,{message:e.message,likesCount:e.likesCount},e.id)}))})]})},w={addPost:p.a},M=Object(h.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),w)((function(e){var t=e.posts,s=e.addPost;return Object(a.jsx)(_,{posts:t,addPost:s})})),S=function(e){var t=e.profile,s=e.status,c=e.updateUserStatus,n=e.isOwner,i=e.savePhoto,o=e.saveProfile;return Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{profile:t,status:s,updateUserStatus:c,isOwner:n,savePhoto:i,saveProfile:o}),Object(a.jsx)(M,{})]})},A=s(6),N=s(18),F=s(89),U={getUserProfile:p.b,getUserStatus:p.c,updateUserStatus:p.g,savePhoto:p.e,saveProfile:p.f};t.default=Object(N.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),U),F.a)((function(e){var t=e.profile,s=e.status,c=e.authorizedUserId,n=e.getUserProfile,i=e.getUserStatus,o=e.updateUserStatus,j=e.savePhoto,l=e.saveProfile,b=Object(A.g)().userId||c;return Object(r.useEffect)((function(){n(b),i(b)}),[i,n,b]),Object(a.jsx)(S,{profile:t,status:s,updateUserStatus:o,isOwner:b===c,savePhoto:j,saveProfile:l})}))}}]);
//# sourceMappingURL=4.3ece367d.chunk.js.map