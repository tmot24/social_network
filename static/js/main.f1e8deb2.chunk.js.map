{"version":3,"sources":["components/navBar/navBar.js","assets/images/Cloud,_blue_background.svg","components/header/header.js","redux/auth-reducer.js","components/header/headerContainer.js","components/content/login/loginForm.js","components/content/login/loginContainer.js","redux/app-reducer.js","assets/images/welcome-home-welcome-home-de.jpg","components/content/welcome/welcome.js","components/content/notFound/notFound.js","components/content/errorBoundary/errorBoundary.js","components/app/app.js","redux/redux-store.js","index.js","api/api.js","assets/images/default_avatar.jpg","components/navBar/navBar.module.css","components/content/addMessageForm/addMessageForm.module.css","components/header/header.module.css","assets/images/Spinner-1s-300px.svg","components/content/common/preloader/preloader.js","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","components/content/welcome/welcome.module.css"],"names":["NavBar","List","component","className","style","nav","disablePadding","to","link","ListItem","button","divider","ListItemText","primary","NavLink","Header","isAuth","login","logout","header","src","cloud","alt","Button","variant","onClick","navLink","SET_USER_DATA","SET_ERROR_LOGIN","GET_CAPTCHA_URL_SUCCESS","initialState","id","email","errorMessage","captchaUrl","getCaptchaUrlSuccess","type","payload","setErrorLogin","setAuthUserData","userId","getAuthUserData","dispatch","a","authAPI","me","response","data","resultCode","getCaptchaUrl","securityAPI","url","mapDispatchToProps","connect","state","auth","LoginForm","useForm","register","handleSubmit","errors","formState","fieldOption","required","minLength","value","message","errorSpan","field","onSubmit","password","rememberMe","captcha","formControl","error","placeholder","messages","INITIALIZED_SUCCESS","initialized","Welcome","welcome","NotFound","ErrorBoundary","errorInfo","this","setState","console","log","props","children","React","Component","ProfileContainer","lazy","UsersContainer","DialogsContainer","initializeApp","then","app","useEffect","preloader","fallback","path","exact","LoginContainer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","basename","process","document","getElementById","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","follow","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","module","exports","Preloader","spinner","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","newPost","newPostText","filter","p","postId","photos","addPost","setStatus","getUserProfile","getUserStatus","updateUserStatus","file","getState","Promise","reject","SEND_MESSAGE","dataDialog","name","img","avatar","body","newMessageBody","sendMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","i","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followed","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","getUsersThunkCreator","page","totalCount","followUnfollowFlow","apiMethod","actionCreator"],"mappings":"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","file":"static/js/main.f1e8deb2.chunk.js","sourcesContent":["import style from \"./navBar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {List, ListItem, ListItemText} from \"@material-ui/core\";\r\n\r\nexport const NavBar = () => {\r\n    return (\r\n        <>\r\n            <List component=\"nav\" className={style.nav} disablePadding>\r\n                <NavLink to={\"/profile\"} className={style.link}>\r\n                    <ListItem button divider >\r\n                        <ListItemText primary=\"Profile\"/>\r\n                    </ListItem>\r\n                </NavLink>\r\n                <ListItem button divider component={NavLink} to={\"/dialogs\"} className={style.link}>\r\n                \t<ListItemText primary=\"Dialogs\"/>\r\n                </ListItem>\r\n                <NavLink to={\"/users\"} className={style.link}>\r\n                    <ListItem button divider>\r\n                        <ListItemText primary=\"Users\"/>\r\n                    </ListItem>\r\n                </NavLink>\r\n                <NavLink to={\"/login\"} className={style.link}>\r\n                    <ListItem button divider>\r\n                        <ListItemText primary=\"Login\"/>\r\n                    </ListItem>\r\n                </NavLink>\r\n            </List>\r\n        </>\r\n    );\r\n};","export default __webpack_public_path__ + \"static/media/Cloud,_blue_background.48bab0ba.svg\";","import style from \"./header.module.css\";\r\nimport cloud from \"../../assets/images/Cloud,_blue_background.svg\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport const Header = ({isAuth, login, logout}) => {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src={cloud} alt=\"cloud\"/>\r\n            <div>\r\n                {isAuth\r\n                    ? <div className={style.login}>\r\n                        <div>\r\n                            <h3>{login}</h3>\r\n                        </div>\r\n                        <Button variant=\"contained\" onClick={logout}>Log out</Button>\r\n                    </div>\r\n                    : <Button variant=\"contained\" onClick={logout}>\r\n                        <NavLink className={style.navLink} to={\"/login\"}>Login</NavLink>\r\n                    </Button>\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n};","import {authAPI, securityAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\nconst SET_ERROR_LOGIN = \"auth/SET_ERROR_LOGIN\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    errorMessage: null,\r\n    captchaUrl: null, // if null, then captcha is not required\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        case SET_ERROR_LOGIN:\r\n            return {\r\n                ...state,\r\n                errorMessage: action.errorMessage,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\r\nexport const setErrorLogin = (errorMessage) => ({type: SET_ERROR_LOGIN, errorMessage});\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        const {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        // success, get auth data\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        dispatch(setErrorLogin(response.data.messages[0]));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};","import {Header} from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nconst HeaderContainer = ({isAuth, login, logout}) => {\r\n    return (\r\n        <Header isAuth={isAuth} login={login} logout={logout}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import {useForm} from \"react-hook-form\";\r\nimport style from \"../addMessageForm/addMessageForm.module.css\";\r\n\r\nexport const LoginForm = ({errorMessage, login, captchaUrl}) => {\r\n    const {\r\n        register, handleSubmit,\r\n        formState: {errors}\r\n    } = useForm();\r\n\r\n    const onSubmit = (data) => {\r\n        login(data.email, data.password, data.rememberMe, data.captcha);\r\n    };\r\n\r\n    const fieldOption = ({\r\n        required: \"Field is required\",\r\n        minLength: {\r\n            value: 2,\r\n            message: \"Less than 2\"\r\n        }\r\n    });\r\n\r\n    const errorSpan = (field) => {\r\n        return errors[field] && <span>{errors[field].message}</span>;\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div>Use email: free@samuraijs.com</div>\r\n            <div>Use password: free</div>\r\n            <div className={style.formControl}>\r\n                <div>\r\n                    <input className={errors.email ? style.error : \"\"}\r\n                           type=\"text\" placeholder={\"Email\"}\r\n                           {...register(\"email\", (fieldOption))}/>\r\n                </div>\r\n                {errorSpan(\"email\")}\r\n                <div>\r\n                    <input className={errors.password ? style.error : \"\"}\r\n                           type=\"password\" placeholder={\"Password\"}\r\n                           {...register(\"password\", (fieldOption))}/>\r\n                </div>\r\n                {errorSpan(\"password\")}\r\n                <div>\r\n                    <input type=\"checkbox\" {...register(\"rememberMe\")}/> remember me\r\n                </div>\r\n                <div>\r\n                    {errorMessage && <span>{errorMessage}</span>}\r\n                </div>\r\n                {captchaUrl && <img src={captchaUrl} alt=\"captcha\"/>}\r\n                {captchaUrl && <div>\r\n                    <input className={errors.captcha ? style.error : \"\"}\r\n                           type=\"text\" placeholder={\"Captcha\"}\r\n                           {...register(\"captcha\", ({required: \"Field is required\"}))}/>\r\n                </div>}\r\n                <div>\r\n                    <input type=\"submit\" value={\"Login\"}/>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n};","import {LoginForm} from \"./loginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, setErrorLogin} from \"../../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginContainer = ({isAuth, login, errorMessage, captchaUrl}) => {\r\n    if (isAuth) {\r\n        return <Redirect to={\"profile\"}/>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginForm errorMessage={errorMessage} login={login} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        errorMessage: state.auth.errorMessage,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    login, setErrorLogin,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promise =  dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n};","export default __webpack_public_path__ + \"static/media/welcome-home-welcome-home-de.842af542.jpg\";","import welcome from \"../../../assets/images/welcome-home-welcome-home-de.jpg\"\r\nimport style from \"./welcome.module.css\"\r\n\r\nexport const Welcome = () => {\r\n    return (\r\n        <div className={style.welcome}>\r\n            <img src={welcome} alt=\"welcome\"/>\r\n        </div>\r\n    )\r\n}","\r\n\r\nexport const NotFound = () => {\r\n    return (\r\n        <div>Not Found</div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    state = {\r\n        error: false\r\n    };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({error: true});\r\n        console.log(errorInfo)\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <img src=\"https://miro.medium.com/max/700/1*v4dLIlWpJkCiSDKv7xguLA.png\" alt=\"error\"/>;\r\n        }\r\n        return this.props.children;\r\n    }\r\n}","import {lazy, Suspense} from 'react';\r\nimport \"./app.css\";\r\nimport {NavBar} from \"../navBar/navBar\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport HeaderContainer from \"../header/headerContainer\";\r\nimport LoginContainer from \"../content/login/loginContainer\";\r\nimport {useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"../../redux/app-reducer\";\r\nimport {Preloader} from \"../content/common/preloader/preloader\";\r\nimport {Welcome} from \"../content/welcome/welcome\";\r\nimport {NotFound} from \"../content/notFound/notFound\";\r\nimport ErrorBoundary from \"../content/errorBoundary/errorBoundary\";\r\n\r\nconst ProfileContainer = lazy(() => import(\"../content/profile/profileContainer\"));\r\nconst UsersContainer = lazy(() => import(\"../content/users/usersContainer\"));\r\nconst DialogsContainer = lazy(() => import(\"../content/dialogs/dialogs-container\"));\r\n\r\nconst App = ({initialized, initializeApp}) => {\r\n\r\n    useEffect(() => {\r\n        initializeApp();\r\n    }, [initializeApp]);\r\n\r\n    const preloader = (\r\n        <div className={\"app-wrapper\"}>\r\n            <Preloader/>\r\n        </div>\r\n    );\r\n\r\n    if (!initialized) return preloader;\r\n    return (\r\n        <div className={\"app-wrapper\"}>\r\n            <ErrorBoundary>\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <div className={\"app-wrapper-content\"}>\r\n                    <Suspense fallback={preloader}>\r\n                        <Switch>\r\n                            <Route path={\"/\"} exact component={Welcome}/>\r\n                            <Route path={\"/profile/:userId?\"} component={ProfileContainer}/>\r\n                            <Route path={\"/dialogs\"} component={DialogsContainer}/>\r\n                            <Route path={\"/users\"} component={UsersContainer}/>\r\n                            <Route path={\"/login\"} component={LoginContainer}/>\r\n                            <Route component={NotFound}/>\r\n                        </Switch>\r\n                    </Suspense>\r\n                </div>\r\n            </ErrorBoundary>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    initializeApp,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store =\r\n    createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/app/app';\r\nimport {store} from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        {/*HashRouter for github pages / BrowserRouter*/}\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"b45f20e6-c418-486d-bf45-21bf8191b135\"\r\n    },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/default_avatar.f2be6b87.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navBar_nav__sOiFi\",\"link\":\"navBar_link__JBSfV\",\"activeLink\":\"navBar_activeLink__2Daph\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"addMessageForm_formControl__2AMq-\",\"error\":\"addMessageForm_error__mgWRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3xkjA\",\"login\":\"header_login__1BPng\",\"navLink\":\"header_navLink__26qAj\"};","export default __webpack_public_path__ + \"static/media/Spinner-1s-300px.eadce372.svg\";","import spinner from \"../../../../assets/images/Spinner-1s-300px.svg\";\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <img src={spinner} alt=\"loading\"/>\r\n    );\r\n};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"profile/SET_STATUS\";\r\nconst DELETE_POST = \"profile/DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"profile/SAVE_PHOTO_SUCCESS\";\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 11},\r\n        {id: 2, message: \"It's my first post\", likesCount: 22},\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n};\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: \"\",\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            };\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status: status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        return Promise.reject(response.data.messages);\r\n    }\r\n};","import avatar from \"../assets/images/default_avatar.jpg\"\r\n\r\nconst SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nconst initialState = {\r\n    dataDialog: [\r\n        {id: 1, name: \"Dimych\", img: avatar},\r\n        {id: 2, name: \"Andrey\", img: avatar},\r\n        {id: 3, name: \"Sveta\", img: avatar},\r\n        {id: 4, name: \"Sasha\", img: avatar},\r\n        {id: 5, name: \"Victor\", img: avatar},\r\n        {id: 6, name: \"Valera\", img: avatar},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 4, message: \"Yo\"},\r\n        {id: 5, message: \"Yo\"},\r\n    ],\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(i => {\r\n        if (i[objPropName] === itemId) {\r\n            return {...i, ...newObjProps};\r\n        }\r\n        return i;\r\n    });\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount};\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const response = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n    };\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.unfollow, unfollowSuccess);\r\n    };\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"welcome\":\"welcome_welcome__2l93p\"};"],"sourceRoot":""}