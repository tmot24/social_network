{"version":3,"sources":["components/content/common/paginator/paginator.module.css","components/content/addMessageForm/addMessageForm.js","hoc/withAuthRedirect.js","redux/dialogs-reducer.js","components/content/welcome/welcome.module.css","components/content/profile/myPosts/posts/post.module.css","components/header/drawerComponent.js","api/api.js","redux/auth-reducer.js","components/login/login.js","components/login/loginContainer.js","components/header/header.js","components/header/headerContainer.js","redux/app-reducer.js","assets/images/Spinner-1s-300px.svg","components/content/common/preloader/preloader.js","assets/images/welcome-home-welcome-home-de.jpg","components/content/welcome/welcome.js","components/content/notFound/notFound.js","components/content/errorBoundary/errorBoundary.js","components/content/profile/profileInfo/profileStatus.js","components/content/profile/profileInfo/profileDataForm.js","components/content/profile/profileInfo/profileInfo.js","redux/profile-reducer.js","components/content/profile/myPosts/posts/post.js","components/content/profile/myPosts/myPosts.js","components/content/profile/myPosts/my-posts-container.js","components/content/profile/profile.js","components/content/profile/profileContainer.js","utils/object-helpers.js","redux/users-reducer.js","components/content/common/paginator/paginator.js","components/content/users/user.js","components/content/users/users.js","components/content/users/usersSelectors.js","components/content/users/usersContainer.js","components/app/app.js","redux/redux-store.js","index.js","assets/images/avatar.svg","components/content/profile/profileInfo/profileInfo.module.css","components/content/profile/myPosts/myPosts.module.css","components/content/addMessageForm/addMessageForm.module.css"],"names":["module","exports","AddMessageForm","sendMessage","maxLength","useForm","register","handleSubmit","errors","formState","onSubmit","data","newMessageBody","className","style","formControl","error","type","placeholder","required","value","message","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","props","to","SEND_MESSAGE","initialState","dataDialog","id","name","img","avatar","messages","dialogsReducer","action","body","useStyles","makeStyles","theme","drawer","width","drawerWidth","flexShrink","whiteSpace","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","overflowX","spacing","toolbar","display","alignItems","justifyContent","padding","mixins","DrawerComponent","handleDrawerClose","open","useTheme","classes","history","useHistory","Drawer","variant","clsx","paper","IconButton","onClick","direction","Divider","List","ListItem","button","push","ListItemIcon","ListItemText","primary","instance","axios","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","then","response","userId","post","delete","profileAPI","status","put","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","captcha","securityAPI","SET_USER_DATA","SET_ERROR_LOGIN","GET_CAPTCHA_URL_SUCCESS","login","errorMessage","captchaUrl","getCaptchaUrlSuccess","payload","setErrorLogin","setAuthUserData","getAuthUserData","dispatch","a","resultCode","getCaptchaUrl","url","Login","useState","setOpen","handleClose","Button","color","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","Typography","initialValues","validate","values","test","submitForm","Box","margin","component","TextField","label","helperText","FormControlLabel","control","Switch","src","alt","backgroundColor","DialogActions","mapDispatchToProps","root","appBar","zIndex","menuButton","marginRight","hide","title","marginLeft","empty","flexGrow","Header","logout","darkMode","setDarkMode","AppBar","position","Toolbar","edge","noWrap","INITIALIZED_SUCCESS","initialized","Preloader","spinner","Welcome","welcome","NotFound","ErrorBoundary","errorInfo","this","setState","console","log","children","React","ProfileStatus","updateUserStatus","isOwner","editMode","setEditMode","localStatus","setLocalStatus","useEffect","onChange","e","currentTarget","autoFocus","onBlur","defaultValue","onDoubleClick","ProfileDataForm","saveProfile","setErrors","defaultValues","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","catch","reject","map","elem","Object","keys","key","contact","ProfileInfo","savePhoto","descriptionBlock","photos","large","goToEditMode","target","files","length","ProfileData","contactTitle","contactValue","Contact","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","setStatus","getUserProfile","Post","item","MyPosts","addPost","postsBlock","newPostText","profilePage","Profile","getUserStatus","file","getState","Promise","compose","authorizedUserId","useParams","updateObjectInArray","items","itemId","objPropName","newObjProps","i","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","Paginator","totalItemsCount","onPageChanged","portionSize","portionNumber","setPortionNumber","pagesCount","Math","ceil","pages","Array","from","_","k","portionCount","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","filter","p","selectedPage","height","media","User","user","follow","unfollow","Grid","Card","CardActionArea","NavLink","CardMedia","image","small","CardContent","gutterBottom","CardActions","followed","fullWidth","size","disabled","some","useStyle","flexDirection","cards","flexWrap","Users","container","getUsersSelector","createSelector","usersPage","getUsersThunkCreator","page","totalCount","LinearProgress","marginBottom","pageNumber","DialogsContainer","lazy","initializeApp","app","createMuiTheme","palette","main","secondary","preloader","ThemeProvider","CssBaseline","fallback","path","exact","ProfileContainer","UsersContainer","reducers","combineReducers","newPost","postId","dialogsPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.282d9a11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__3rETt\",\"selectedPage\":\"paginator_selectedPage__3hMHp\"};","import {useForm} from \"react-hook-form\";\r\nimport style from \"./addMessageForm.module.css\";\r\n\r\nexport const AddMessageForm = ({sendMessage, maxLength}) => {\r\n    const {register, handleSubmit, formState: {errors}} = useForm();\r\n\r\n    const onSubmit = (data) => {\r\n        sendMessage(data.newMessageBody);\r\n    };\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className={style.formControl}>\r\n                <div>\r\n                <textarea className={errors.newMessageBody ? style.error : \"\"}\r\n                          type=\"text\" placeholder={\"Enter your message\"}\r\n                          {...register(\"newMessageBody\", ({\r\n                              required: \"Field is required\",\r\n                              maxLength: {value: maxLength, message: `Max length is ${maxLength} symbols`}\r\n                          }))}/>\r\n                </div>\r\n                {errors.newMessageBody && <span>{errors.newMessageBody.message}</span>}\r\n                <div>\r\n            </div>\r\n                <input type=\"submit\" value={\"Send\"}/>\r\n            </div>\r\n        </form>\r\n    );\r\n};","import {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    const RedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Redirect to={\"login\"}/>;\r\n        return <Component {...props}/>;\r\n    };\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n};","import avatar from \"../assets/images/avatar.svg\"\r\n\r\nconst SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nconst initialState = {\r\n    dataDialog: [\r\n        {id: 1, name: \"Dimych\", img: avatar},\r\n        {id: 2, name: \"Andrey\", img: avatar},\r\n        {id: 3, name: \"Sveta\", img: avatar},\r\n        {id: 4, name: \"Sasha\", img: avatar},\r\n        {id: 5, name: \"Victor\", img: avatar},\r\n        {id: 6, name: \"Valera\", img: avatar},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 4, message: \"Yo\"},\r\n        {id: 5, message: \"Yo\"},\r\n    ],\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"welcome\":\"welcome_welcome__2l93p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"post_item__3QO81\"};","import clsx from \"clsx\";\r\nimport {makeStyles, useTheme} from \"@material-ui/core/styles\";\r\nimport {Drawer, List, Divider, ListItem, ListItemIcon, ListItemText, IconButton} from \"@material-ui/core\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport {drawerWidth} from \"./header\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        whiteSpace: \"nowrap\",\r\n    },\r\n    drawerOpen: {\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create(\"width\", {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerClose: {\r\n        transition: theme.transitions.create(\"width\", {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        overflowX: \"hidden\",\r\n        width: theme.spacing(7) + 1,\r\n    },\r\n    toolbar: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-end\",\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n    },\r\n}));\r\n\r\nexport const DrawerComponent = ({handleDrawerClose, open}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <Drawer\r\n            variant=\"permanent\"\r\n            className={clsx(classes.drawer, {\r\n                [classes.drawerOpen]: open,\r\n                [classes.drawerClose]: !open,\r\n            })}\r\n            classes={{\r\n                paper: clsx({\r\n                    [classes.drawerOpen]: open,\r\n                    [classes.drawerClose]: !open,\r\n                }),\r\n            }}\r\n        >\r\n            <div className={classes.toolbar}>\r\n                <IconButton onClick={handleDrawerClose}>\r\n                    {theme.direction === \"rtl\" ? <ChevronRightIcon/> : <ChevronLeftIcon/>}\r\n                </IconButton>\r\n            </div>\r\n            <Divider/>\r\n            <List>\r\n                <ListItem button onClick={() => history.push(\"/profile\")}>\r\n                    <ListItemIcon><AccountBoxIcon/></ListItemIcon>\r\n                    <ListItemText primary={\"Profile\"}/>\r\n                </ListItem>\r\n                <ListItem button onClick={() => history.push(\"/dialogs\")}>\r\n                    <ListItemIcon><QuestionAnswerIcon/></ListItemIcon>\r\n                    <ListItemText primary={\"Dialogs\"}/>\r\n                </ListItem>\r\n                <ListItem button onClick={() => history.push(\"/users\")}>\r\n                    <ListItemIcon><GroupIcon/></ListItemIcon>\r\n                    <ListItemText primary={\"Users\"}/>\r\n                </ListItem>\r\n            </List>\r\n        </Drawer>\r\n    );\r\n};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"b45f20e6-c418-486d-bf45-21bf8191b135\"\r\n    },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","import {authAPI, securityAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\nconst SET_ERROR_LOGIN = \"auth/SET_ERROR_LOGIN\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    errorMessage: null,\r\n    captchaUrl: null, // if null, then captcha is not required\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        case SET_ERROR_LOGIN:\r\n            return {\r\n                ...state,\r\n                errorMessage: action.errorMessage,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\r\nexport const setErrorLogin = (errorMessage) => ({type: SET_ERROR_LOGIN, errorMessage});\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        const {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        // success, get auth data\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        dispatch(setErrorLogin(response.data.messages[0]));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};","import {\r\n    Button, Dialog, DialogActions, Box, FormControlLabel,\r\n    DialogContent, DialogContentText, DialogTitle, Typography\r\n} from \"@material-ui/core\";\r\nimport {useState} from \"react\";\r\nimport {Formik, Form, Field} from \"formik\";\r\nimport {Switch, TextField} from \"formik-material-ui\";\r\n\r\nexport const Login = ({errorMessage, login, captchaUrl}) => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const onSubmit = (data) => {\r\n        login(data.email, data.password, data.rememberMe, data.captcha);\r\n    };\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button variant=\"outlined\" color=\"secondary\" onClick={handleClickOpen}>\r\n                Login\r\n            </Button>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        <Typography variant={\"subtitle1\"}>Please use test email: </Typography>\r\n                        <Typography variant={\"h4\"}>free@samuraijs.com</Typography>\r\n                        <Typography variant={\"subtitle1\"}>Please use test password: </Typography>\r\n                        <Typography variant={\"h4\"}>free</Typography>\r\n                    </DialogContentText>\r\n                    <Formik\r\n                        initialValues={{\r\n                            email: \"free@samuraijs.com\",\r\n                            password: \"free\",\r\n                        }}\r\n                        validate={(values) => {\r\n                            const errors = {};\r\n                            if (!values.email) {\r\n                                errors.email = 'Required';\r\n                            } else if (\r\n                                !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\r\n                            ) {\r\n                                errors.email = 'Invalid email address';\r\n                            }\r\n                            return errors;\r\n                        }}\r\n                        onSubmit={values => onSubmit(values)}\r\n                    >\r\n                        {({submitForm}) => (\r\n                            <Form>\r\n                                <Box margin={1}>\r\n                                    <Field\r\n                                        component={TextField}\r\n                                        name={\"email\"}\r\n                                        type={\"email\"}\r\n                                        label={\"Email\"}\r\n                                        helperText={\"email\"}\r\n                                    />\r\n                                </Box>\r\n                                <Box margin={1}>\r\n                                    <Field\r\n                                        component={TextField}\r\n                                        type=\"password\"\r\n                                        label=\"Password\"\r\n                                        name=\"password\"\r\n                                    />\r\n                                </Box>\r\n                                <Box margin={1}>\r\n                                    <FormControlLabel\r\n                                        control={\r\n                                            <Field component={Switch} type=\"checkbox\" name=\"rememberMe\"/>\r\n                                        }\r\n                                        label=\"Remember me\"\r\n                                    />\r\n                                </Box>\r\n                                <Box margin={1}>\r\n                                    {captchaUrl && <img style={{display: \"inherit\"}} src={captchaUrl} alt=\"captcha\"/>}\r\n                                    {captchaUrl &&\r\n                                    <Field\r\n                                        component={TextField}\r\n                                        type=\"captcha\"\r\n                                        label=\"Captcha\"\r\n                                        name=\"captcha\"\r\n                                    />}\r\n                                    {errorMessage && <Box margin={2}><Typography variant={\"subtitle1\"} style={{\r\n                                        color: \"red\",\r\n                                        backgroundColor: \"white\"\r\n                                    }}>{errorMessage}</Typography></Box>}\r\n                                </Box>\r\n                                <DialogActions>\r\n                                    <Button onClick={handleClose}>\r\n                                        Cancel\r\n                                    </Button>\r\n                                    <Button onClick={submitForm}>\r\n                                        Login\r\n                                    </Button>\r\n                                </DialogActions>\r\n                            </Form>\r\n                        )}\r\n                    </Formik>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n","import {connect} from \"react-redux\";\r\nimport {login, setErrorLogin} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Login} from \"./login\";\r\n\r\nconst LoginContainer = ({isAuth, login, errorMessage, captchaUrl}) => {\r\n    if (isAuth) {\r\n        return <Redirect to={\"profile\"}/>;\r\n    }\r\n\r\n    return (\r\n            <Login errorMessage={errorMessage} login={login} captchaUrl={captchaUrl}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        errorMessage: state.auth.errorMessage,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    login, setErrorLogin,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","import {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {AppBar, Toolbar, Typography, IconButton, Button} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport {DrawerComponent} from \"./drawerComponent\";\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport LoginContainer from \"../login/loginContainer\";\r\n\r\nexport const drawerWidth = 200;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: 36,\r\n    },\r\n    hide: {\r\n        display: \"none\",\r\n    },\r\n    toolbar: {\r\n        justifyContent: \"space-between\",\r\n    },\r\n    title: {\r\n        marginLeft: 20,\r\n    },\r\n    login: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n    },\r\n    empty: {\r\n        flexGrow: 1,\r\n    },\r\n    name: {\r\n        marginRight: 12,\r\n    }\r\n}));\r\n\r\nexport const Header = ({isAuth, login, logout, darkMode, setDarkMode}) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar\r\n                position=\"fixed\"\r\n                className={classes.appBar}\r\n            >\r\n                <Toolbar className={classes.toolbar}>\r\n                    {open\r\n                        ? <IconButton onClick={handleDrawerClose} color={\"inherit\"} edge=\"start\">\r\n                            <CloseIcon/>\r\n                        </IconButton>\r\n                        : <IconButton color=\"inherit\" onClick={handleDrawerOpen} edge=\"start\">\r\n                            <MenuIcon/>\r\n                        </IconButton>\r\n                    }\r\n                    <Typography variant=\"h6\" noWrap className={classes.title}>\r\n                        Social network\r\n                    </Typography>\r\n                    <div className={classes.empty}/>\r\n                    <div className={classes.login}>\r\n                        <IconButton color={\"secondary\"} onClick={() => setDarkMode(!darkMode)}>\r\n                            <Brightness4Icon/>\r\n                        </IconButton>\r\n                        <div>\r\n                            {isAuth\r\n                                ? <div className={classes.login}>\r\n                                    <Typography className={classes.name} variant={\"h6\"}>{login}</Typography>\r\n                                    <Button color={\"secondary\"} variant=\"outlined\" onClick={logout}>Log out</Button>\r\n                                </div>\r\n                                : <LoginContainer/>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <DrawerComponent open={open} handleDrawerClose={handleDrawerClose}/>\r\n        </div>\r\n    );\r\n};\r\n","import {Header} from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nconst HeaderContainer = ({isAuth, login, logout, darkMode, setDarkMode}) => {\r\n    return (\r\n        <Header isAuth={isAuth} login={login} logout={logout} darkMode={darkMode} setDarkMode={setDarkMode}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promise =  dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n};","export default __webpack_public_path__ + \"static/media/Spinner-1s-300px.eadce372.svg\";","import spinner from \"../../../../assets/images/Spinner-1s-300px.svg\";\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <img src={spinner} alt=\"loading\"/>\r\n    );\r\n};","export default __webpack_public_path__ + \"static/media/welcome-home-welcome-home-de.842af542.jpg\";","import welcome from \"../../../assets/images/welcome-home-welcome-home-de.jpg\"\r\nimport style from \"./welcome.module.css\"\r\n\r\nexport const Welcome = () => {\r\n    return (\r\n        <div className={style.welcome}>\r\n            <img src={welcome} alt=\"welcome\"/>\r\n        </div>\r\n    )\r\n}","\r\n\r\nexport const NotFound = () => {\r\n    return (\r\n        <div>Not Found</div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    state = {\r\n        error: false\r\n    };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({error: true});\r\n        console.log(errorInfo)\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <img src=\"https://miro.medium.com/max/700/1*v4dLIlWpJkCiSDKv7xguLA.png\" alt=\"error\"/>;\r\n        }\r\n        return this.props.children;\r\n    }\r\n}","import {Preloader} from \"../../common/preloader/preloader\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nexport const ProfileStatus = ({profile, status, updateUserStatus, isOwner}) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [localStatus, setLocalStatus] = useState();\r\n\r\n    useEffect(() => {\r\n        setLocalStatus(status);\r\n    }, [status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        updateUserStatus(localStatus);\r\n    };\r\n\r\n    const onChange = (e) => {\r\n        setLocalStatus(e.currentTarget.value);\r\n    };\r\n\r\n    if (!profile) return <Preloader/>;\r\n    return (\r\n        <div>\r\n            {!editMode\r\n                ? <div>\r\n                    <div>\r\n                        <b>Status: </b>\r\n                        <span onDoubleClick={isOwner ? () => activateEditMode() : null}>{localStatus || \"No status\"}</span>\r\n                    </div>\r\n\r\n                </div>\r\n                : <div>\r\n                    <input onChange={onChange}\r\n                           autoFocus={true} onBlur={() => deactivateEditMode()}\r\n                           type=\"text\" defaultValue={localStatus}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n","import {useForm} from \"react-hook-form\";\r\nimport style from \"./profileInfo.module.css\";\r\nimport {useState} from \"react\";\r\n\r\nexport const ProfileDataForm = ({profile, saveProfile, setEditMode}) => {\r\n    const [errors, setErrors] = useState([]);\r\n    const {register, handleSubmit} = useForm({\r\n        defaultValues: {\r\n            fullName: profile.fullName,\r\n            lookingForAJob: profile.lookingForAJob,\r\n            lookingForAJobDescription: profile.lookingForAJobDescription,\r\n            aboutMe: profile.aboutMe,\r\n            contacts: {\r\n                facebook: profile.contacts.facebook,\r\n                website: profile.contacts.website,\r\n                vk: profile.contacts.vk,\r\n                twitter: profile.contacts.twitter,\r\n                instagram: profile.contacts.instagram,\r\n                youtube: profile.contacts.youtube,\r\n                github: profile.contacts.github,\r\n                mainLink: profile.contacts.mainLink,\r\n            }\r\n        }\r\n    });\r\n    const onSubmit = (data) => {\r\n        saveProfile(data)\r\n            .then(() => setEditMode(false))\r\n            .catch(reject => setErrors(reject))\r\n\r\n    };\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div>\r\n                <div>\r\n                    <button>save</button>\r\n                </div>\r\n                {errors.map(elem =>\r\n                    <div className={style.error} key={elem}>\r\n                        {elem}\r\n                    </div>)\r\n                }\r\n                <div>\r\n                    <div>\r\n                        <b>Full name: </b>\r\n                        <div>\r\n                            <input type=\"text\" placeholder={\"Full name\"}{...register(\"fullName\")}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <b>Looking for a job: </b>\r\n                        <div>\r\n                            <input type=\"checkbox\" {...register(\"lookingForAJob\")}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <b>My professional skills: </b>\r\n                        <div>\r\n                            <textarea type=\"text\"\r\n                                      placeholder={\"My professional skills\"}{...register(\"lookingForAJobDescription\")}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <b>About me: </b>\r\n                        <div>\r\n                            <textarea type=\"text\" placeholder={\"About me\"}{...register(\"aboutMe\")}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <b>Contacts: </b>\r\n                        <div>\r\n                            {\r\n                                Object.keys(profile.contacts)\r\n                                    .map(key =>\r\n                                        <div key={key} className={style.contact}>\r\n                                            <b>{key}: </b>\r\n                                            <input type=\"text\" placeholder={key}{...register(`contacts.${key}`)}/>\r\n                                        </div>\r\n                                    )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n};","import style from \"./profileInfo.module.css\";\r\nimport {Preloader} from \"../../common/preloader/preloader\";\r\nimport {ProfileStatus} from \"./profileStatus\";\r\nimport avatar from \"../../../../assets/images/avatar.svg\";\r\nimport {useState} from \"react\";\r\nimport {ProfileDataForm} from \"./profileDataForm\";\r\n\r\n\r\nexport const ProfileInfo = ({\r\n                                profile,\r\n                                status,\r\n                                updateUserStatus,\r\n                                isOwner,\r\n                                savePhoto,\r\n                                saveProfile,\r\n                            }) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const mainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    if (!profile) return <Preloader/>;\r\n    return (\r\n        <div>\r\n            <div className={style.descriptionBlock}>\r\n                <img className={style.avatar} src={profile.photos.large || avatar} alt=\"img\"/>\r\n                {editMode\r\n                    ? <ProfileDataForm profile={profile} saveProfile={saveProfile} setEditMode={setEditMode}\r\n                    />\r\n                    : <ProfileData profile={profile} goToEditMode={() => setEditMode(true)} isOwner={isOwner}/>\r\n                }\r\n                <ProfileStatus profile={profile} status={status} updateUserStatus={updateUserStatus} isOwner={isOwner}/>\r\n            </div>\r\n            {isOwner && <input type={\"file\"} onChange={mainPhotoSelected}/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return (\r\n        <div>\r\n            {isOwner && <button onClick={goToEditMode}>edit</button>}\r\n            <div>\r\n                <b>Full name</b> {profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n            </div>\r\n            {profile.lookingForAJob &&\r\n            <div>\r\n                <b>My professional skills:</b> {profile.lookingForAJobDescription}\r\n            </div>\r\n            }\r\n            <div>\r\n                <b>About me:</b> {profile.aboutMe}\r\n            </div>\r\n            <div>\r\n                <b>Contacts:</b>\r\n                {\r\n                    Object.keys(profile.contacts)\r\n                        .map(key =>\r\n                            <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n                        )\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    // if (!contactValue) return null\r\n    return (\r\n        <div className={style.contact}>\r\n            <b>{contactTitle}: </b>{contactValue}\r\n        </div>\r\n    );\r\n};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"profile/SET_STATUS\";\r\nconst DELETE_POST = \"profile/DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"profile/SAVE_PHOTO_SUCCESS\";\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 11},\r\n        {id: 2, message: \"It's my first post\", likesCount: 22},\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n};\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: \"\",\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            };\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status: status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        return Promise.reject(response.data.messages);\r\n    }\r\n};","import style from \"./post.module.css\";\r\nimport avatar from \"../../../../../assets/images/avatar.svg\"\r\n\r\nexport const Post = ({message, likesCount}) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <img src={avatar} alt=\"avatar\"/>\r\n            {message}\r\n            <div>\r\n                <span>like: </span>\r\n                <span>{likesCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import style from \"./myPosts.module.css\";\r\nimport {Post} from \"./posts/post\";\r\nimport {AddMessageForm} from \"../../addMessageForm/addMessageForm\";\r\n\r\nexport const MyPosts = ({posts, addPost}) => {\r\n    return (\r\n        <div className={style.postsBlock}>\r\n            <h3>My Posts</h3>\r\n            <div>\r\n                <AddMessageForm sendMessage={addPost} maxLength={10}/>\r\n            </div>\r\n            <div className={style.posts}>\r\n                {\r\n                    posts.map(elem => <Post key={elem.id} message={elem.message} likesCount={elem.likesCount}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};","import {connect} from \"react-redux\";\r\nimport {addPost} from \"../../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./myPosts\";\r\n\r\nconst MyPostsContainer = ({posts, addPost}) => {\r\n    return (\r\n        <MyPosts posts={posts} addPost={addPost}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    addPost,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPostsContainer);","import {ProfileInfo} from \"./profileInfo/profileInfo\";\r\nimport MyPostsContainer from \"./myPosts/my-posts-container\";\r\n\r\nexport const Profile = ({profile, status, updateUserStatus, isOwner, savePhoto, saveProfile}) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={profile} status={status} updateUserStatus={updateUserStatus} isOwner={isOwner} savePhoto={savePhoto}\r\n                         saveProfile={saveProfile}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};","import {Profile} from \"./profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {useEffect} from \"react\";\r\nimport {getUserProfile, getUserStatus, savePhoto, saveProfile, updateUserStatus} from \"../../../redux/profile-reducer\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\n\r\nconst ProfileContainer = ({\r\n                              profile, status, authorizedUserId,\r\n                              getUserProfile, getUserStatus, updateUserStatus, savePhoto, saveProfile,\r\n                          }) => {\r\n\r\n    let userId = useParams().userId || authorizedUserId;\r\n\r\n    useEffect(() => {\r\n        getUserProfile(userId);\r\n        getUserStatus(userId);\r\n    }, [getUserStatus, getUserProfile, userId]);\r\n\r\n    return (\r\n        <Profile profile={profile} status={status} updateUserStatus={updateUserStatus}\r\n                 isOwner={userId === authorizedUserId} savePhoto={savePhoto}\r\n                 saveProfile={saveProfile}\r\n        />\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    getUserProfile, getUserStatus, updateUserStatus, savePhoto, saveProfile,\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(ProfileContainer);","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(i => {\r\n        if (i[objPropName] === itemId) {\r\n            return {...i, ...newObjProps};\r\n        }\r\n        return i;\r\n    });\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount};\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const response = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n    };\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.unfollow, unfollowSuccess);\r\n    };\r\n};","import styles from \"./paginator.module.css\";\r\nimport {useState} from \"react\";\r\nimport {Button, IconButton} from \"@material-ui/core\";\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n\r\nexport const Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    const pages = Array.from({length: pagesCount}, (_, k) => k + 1);\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            { portionNumber > 1 &&\r\n            <div>\r\n                <IconButton onClick={() => { setPortionNumber(1)}}>\r\n                    <FirstPageIcon/>\r\n                </IconButton>\r\n                <IconButton onClick={() => { setPortionNumber(portionNumber - 1) }}>\r\n                    <NavigateBeforeIcon/>\r\n                </IconButton>\r\n            </div>\r\n            }\r\n            {\r\n                pages\r\n                    .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                    .map(p =>\r\n                    <Button key={p} className={currentPage === p ? styles.selectedPage : null}\r\n                            onClick={() => onPageChanged(p)}\r\n                    >{p}</Button>\r\n                )\r\n            }\r\n            {\r\n                portionCount > portionNumber &&\r\n                <div>\r\n                    <IconButton onClick={() => { setPortionNumber(portionNumber + 1) }}>\r\n                        <NavigateNextIcon/>\r\n                    </IconButton>\r\n                    <IconButton onClick={() => { setPortionNumber(portionCount)}}>\r\n                        <LastPageIcon/>\r\n                    </IconButton>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};","import {NavLink} from \"react-router-dom\";\r\nimport avatar from \"../../../assets/images/avatar.svg\";\r\nimport {Button, CardActions, Grid} from \"@material-ui/core\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: 270,\r\n        height: 370,\r\n        margin: \"8px\",\r\n    },\r\n    media: {\r\n        height: \"200px\",\r\n    },\r\n});\r\n\r\nexport const User = ({user, followingInProgress, follow, unfollow}) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid item>\r\n            <Card className={classes.root}>\r\n                <CardActionArea component={NavLink} to={`/profile/${user.id}`}>\r\n                    <CardMedia\r\n                        className={classes.media}\r\n                        image={user.photos.small ? user.photos.small : avatar}\r\n                        title={user.name}\r\n                    />\r\n                    <CardContent>\r\n                        <Typography noWrap gutterBottom variant=\"h6\" component=\"h2\">\r\n                            Name:<br/>${user.name}\r\n                        </Typography>\r\n                        <Typography noWrap variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            Status: {user.status || \"No status\"}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n                <CardActions>\r\n                    {user.followed\r\n                        ? <Button variant={\"contained\"} fullWidth size=\"small\"\r\n                                  disabled={followingInProgress.some(userId => userId === user.id)}\r\n                                  onClick={() => unfollow(user.id)}\r\n                        >Unfollow</Button>\r\n                        : <Button variant={\"contained\"} fullWidth size=\"small\"\r\n                                  disabled={followingInProgress.some(userId => userId === user.id)}\r\n                                  onClick={() => follow(user.id)}\r\n                        >Follow</Button>\r\n                    }\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>\r\n    );\r\n};","import {Paginator} from \"../common/paginator/paginator\";\r\nimport {User} from \"./user\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyle = makeStyles({\r\n    root: {\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n    },\r\n    cards: {\r\n        margin: 20,\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"center\",\r\n    }\r\n});\r\n\r\nexport const Users = ({\r\n                          totalUsersCount, pageSize, currentPage, onPageChanged, follow, unfollow,\r\n                          users, followingInProgress\r\n                      }) => {\r\n    const classes = useStyle();\r\n\r\n    return (\r\n        <Grid container className={classes.root}>\r\n            <Grid item>\r\n                <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage}\r\n                           onPageChanged={onPageChanged}/>\r\n            </Grid>\r\n            <Grid item className={classes.cards}>\r\n                {\r\n                    users.map(user => (\r\n                            <User key={user.id} user={user} followingInProgress={followingInProgress}\r\n                                  follow={follow} unfollow={unfollow}/>\r\n                        )\r\n                    )\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};","import {createSelector} from \"reselect\";\r\n\r\nconst getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsersSelector =\r\n    createSelector(getUsers, (users) => {\r\n        return users;\r\n    });","import {connect} from \"react-redux\";\r\nimport {\r\n    toggleFollowingProgress, getUsersThunkCreator, follow, unfollow\r\n} from \"../../../redux/users-reducer\";\r\nimport {useEffect} from \"react\";\r\nimport {Users} from \"./users\";\r\nimport {getUsersSelector} from \"./usersSelectors\";\r\nimport {LinearProgress} from \"@material-ui/core\";\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n\r\nconst UsersContainer = ({\r\n                            follow, unfollow, users, pageSize, totalUsersCount, currentPage,\r\n                            isFetching, toggleFollowingProgress,\r\n                            followingInProgress, getUsersThunkCreator,\r\n                        }) => {\r\n\r\n    useEffect(() => {\r\n        getUsersThunkCreator(currentPage, pageSize);\r\n    }, [currentPage, getUsersThunkCreator, pageSize]);\r\n\r\n    const theme = useTheme();\r\n\r\n    const onPageChanged = (pageNumber) => {\r\n        getUsersThunkCreator(pageNumber, pageSize);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {isFetching ?\r\n                <LinearProgress style={{\r\n                    backgroundColor: \"#303030\",\r\n                    marginBottom: theme.spacing(2),\r\n                }}/> : null\r\n            }\r\n            <Users\r\n                totalUsersCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                follow={follow}\r\n                unfollow={unfollow}\r\n                users={users}\r\n                toggleFollowingProgress={toggleFollowingProgress}\r\n                followingInProgress={followingInProgress}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    follow, unfollow, toggleFollowingProgress, getUsersThunkCreator,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);","import {lazy, Suspense, useState} from 'react';\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport HeaderContainer from \"../header/headerContainer\";\r\nimport {useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"../../redux/app-reducer\";\r\nimport {Preloader} from \"../content/common/preloader/preloader\";\r\nimport {Welcome} from \"../content/welcome/welcome\";\r\nimport {NotFound} from \"../content/notFound/notFound\";\r\nimport ErrorBoundary from \"../content/errorBoundary/errorBoundary\";\r\nimport {ThemeProvider} from \"@material-ui/core/styles\";\r\nimport {CssBaseline, Grid} from \"@material-ui/core\";\r\nimport {createMuiTheme} from '@material-ui/core/styles';\r\nimport ProfileContainer from \"../content/profile/profileContainer\";\r\nimport UsersContainer from \"../content/users/usersContainer\";\r\n\r\nconst DialogsContainer = lazy(() => import(\"../content/dialogs/dialogs-container\"));\r\n\r\nconst App = ({initialized, initializeApp}) => {\r\n    const [darkMode, setDarkMode] = useState(true);\r\n    useEffect(() => {\r\n        initializeApp();\r\n    }, [initializeApp]);\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n            type: darkMode ? \"dark\" : \"light\",\r\n            primary: {\r\n                main: \"#FFFFFFFF\",\r\n            },\r\n            secondary: {\r\n                main: \"#000000FF\"\r\n            },\r\n        }\r\n    });\r\n\r\n    const preloader = (\r\n        <div className={\"app-wrapper\"}>\r\n            <Preloader/>\r\n        </div>\r\n    );\r\n\r\n    if (!initialized) return preloader;\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <CssBaseline/>\r\n            <Grid container direction={\"column\"}>\r\n                <ErrorBoundary>\r\n                    <Grid item>\r\n                        <HeaderContainer darkMode={darkMode} setDarkMode={setDarkMode}/>\r\n                    </Grid>\r\n                    <Grid item style={{margin: 56, padding: 24}}>\r\n                        <Suspense fallback={preloader}>\r\n                            <Switch>\r\n                                <Route path={\"/\"} exact component={Welcome}/>\r\n                                <Route path={\"/profile/:userId?\"} component={ProfileContainer}/>\r\n                                <Route path={\"/dialogs\"} component={DialogsContainer}/>\r\n                                <Route path={\"/users\"} component={UsersContainer}/>\r\n                                <Route component={NotFound}/>\r\n                            </Switch>\r\n                        </Suspense>\r\n                    </Grid>\r\n                </ErrorBoundary>\r\n            </Grid>\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    initializeApp,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store =\r\n    createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app';\r\nimport {store} from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        {/*HashRouter for github pages / BrowserRouter*/}\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);","export default __webpack_public_path__ + \"static/media/avatar.4084d3ab.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgImg\":\"profileInfo_bgImg__3Ay7A\",\"descriptionBlock\":\"profileInfo_descriptionBlock__2S594\",\"avatar\":\"profileInfo_avatar__zeCMj\",\"contact\":\"profileInfo_contact__3jMB8\",\"error\":\"profileInfo_error__3iHhv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"myPosts_postsBlock__3pXvt\",\"posts\":\"myPosts_posts__obZMe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"addMessageForm_formControl__2AMq-\",\"error\":\"addMessageForm_error__mgWRR\"};"],"sourceRoot":""}