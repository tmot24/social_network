(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[0],{191:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n.n(c),s=n(14),o=n.n(s),u=n(15),l=n(19),j=n(231),d=n(246),b=n(247),f=n(234),h=n(69),O=n(241),p=n(127),m=n.n(p),x=n(30),g=n(7),v=n(4),w=n(31),y=n(266),S=n(235),C=n(236),k=n(195),E=n(237),I=n(238),P=n(118),_=n.n(P),N=n(117),T=n.n(N),A=n(119),L=n.n(A),F=n(121),U=n.n(F),R=n(120),D=n.n(R),M=n(1),G=Object(j.a)((function(e){return{drawer:{width:me,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:me,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}})),z=function(e){var t,n,r=e.handleDrawerClose,a=e.open,c=Object(w.a)(),i=G(c),s=Object(l.g)();return Object(M.jsxs)(y.a,{variant:"permanent",className:Object(v.a)(i.drawer,(t={},Object(x.a)(t,i.drawerOpen,a),Object(x.a)(t,i.drawerClose,!a),t)),classes:{paper:Object(v.a)((n={},Object(x.a)(n,i.drawerOpen,a),Object(x.a)(n,i.drawerClose,!a),n))},children:[Object(M.jsx)("div",{className:i.toolbar,children:Object(M.jsx)(f.a,{onClick:r,children:"rtl"===c.direction?Object(M.jsx)(T.a,{}):Object(M.jsx)(_.a,{})})}),Object(M.jsx)(S.a,{}),Object(M.jsxs)(C.a,{children:[Object(M.jsxs)(k.a,{button:!0,onClick:function(){return s.push("/profile")},children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(L.a,{})}),Object(M.jsx)(I.a,{primary:"Profile"})]}),Object(M.jsxs)(k.a,{button:!0,onClick:function(){return s.push("/users")},children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(D.a,{})}),Object(M.jsx)(I.a,{primary:"Users"})]}),Object(M.jsxs)(k.a,{button:!0,onClick:function(){return s.push("/chat")},children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(U.a,{})}),Object(M.jsx)(I.a,{primary:"Chat"})]})]})]})},W=n(128),H=n.n(W),V=n(126),J=n.n(V),B=n(17),Z=n(8),q=n.n(Z),Y=n(13),X=n(123),K=n.n(X).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f4f2d23a-f41e-43a8-8b64-ece065a162b7"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}));var $=function(){return K.get("auth/me").then((function(e){return e.data}))},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return K.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},ee=function(){return K.delete("auth/login")},te=function(){return K.get("security/get-captcha-url").then((function(e){return e.data}))},ne={userId:null,email:null,login:null,isAuth:!1,errorMessage:null,captchaUrl:void 0},re=function(e,t,n,r){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},ae=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},ce=function(e){return{type:"SET_ERROR_LOGIN",errorMessage:e}},ie=function(){return function(){var e=Object(Y.a)(q.a.mark((function e(t){var n,a,c,i,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:(n=e.sent).resultCode===r.Success&&(a=n.data,c=a.id,i=a.login,s=a.email,t(re(c,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se=function(){return function(){var e=Object(Y.a)(q.a.mark((function e(t){var n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:n=e.sent,r=n.url,t(ae(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=n(242),ue=n(243),le=n(244),je=n(263),de=n(240),be=n(245),fe=n(28),he=n(60),Oe=function(e){var t=e.errorMessage,n=e.onSubmit,r=e.captchaUrl,a=Object(c.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],l=function(){o(!1)};return Object(M.jsxs)("div",{children:[Object(M.jsx)(O.a,{variant:"outlined",color:"secondary",onClick:function(){o(!0)},children:"Login"}),Object(M.jsxs)(oe.a,{open:s,onClose:l,"aria-labelledby":"form-dialog-title",children:[Object(M.jsx)(ue.a,{id:"form-dialog-title",children:"Login"}),Object(M.jsxs)(le.a,{children:[Object(M.jsx)(h.a,{variant:"subtitle1",children:"Please use my email: "}),Object(M.jsx)(h.a,{variant:"h4",children:"grigory.yakovlev96@gmail.com"}),Object(M.jsx)(h.a,{variant:"subtitle1",children:"Please use my password: "}),Object(M.jsx)(h.a,{variant:"h4",children:"f4f2d23a"}),Object(M.jsx)(fe.c,{initialValues:{email:"grigory.yakovlev96@gmail.com",password:"f4f2d23a",rememberMe:!1,captcha:void 0},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:n,children:Object(M.jsxs)(fe.b,{children:[Object(M.jsx)(je.a,{margin:1,children:Object(M.jsx)(fe.a,{component:he.c,name:"email",type:"email",label:"Email",helperText:"email"})}),Object(M.jsx)(je.a,{margin:1,children:Object(M.jsx)(fe.a,{component:he.c,type:"password",label:"Password",name:"password"})}),Object(M.jsx)(je.a,{margin:1,children:Object(M.jsx)(de.a,{control:Object(M.jsx)(fe.a,{component:he.b,type:"checkbox",name:"rememberMe"}),label:"Remember me"})}),Object(M.jsxs)(je.a,{margin:1,children:[r&&Object(M.jsx)("img",{style:{display:"inherit"},src:r,alt:"captcha"}),r&&Object(M.jsx)(fe.a,{component:he.c,type:"captcha",label:"Captcha",name:"captcha"}),t&&Object(M.jsx)(je.a,{margin:2,children:Object(M.jsx)(h.a,{variant:"subtitle1",style:{color:"red",backgroundColor:"white"},children:t})})]}),Object(M.jsxs)(be.a,{children:[Object(M.jsx)(O.a,{onClick:l,children:"Cancel"}),Object(M.jsx)(O.a,{type:"submit",children:"Login"})]})]})})]})]})]})},pe=function(){var e=Object(B.d)((function(e){return e.auth.captchaUrl})),t=Object(B.d)((function(e){return e.auth.errorMessage})),n=Object(l.g)(),c=Object(B.c)();return Object(M.jsx)(Oe,{errorMessage:t,onSubmit:function(e){var t,i,s,o;c((t=e.email,i=e.password,s=e.rememberMe,o=e.captcha,function(){var e=Object(Y.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(t,i,s,o).then((function(e){e.resultCode===r.Success?n(ie()):(e.resultCode===a.CaptchaIsRequired&&n(se()),n(ce(e.messages[0])))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n.push("/profile")},captchaUrl:e})},me=200,xe=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:36},hide:{display:"none"},toolbar:{justifyContent:"space-between"},title:{marginLeft:20,color:"black",cursor:"pointer"},login:{display:"flex",alignItems:"center"},empty:{flexGrow:1},name:{marginRight:12}}})),ge=function(e){var t=e.isAuth,n=e.login,r=e.logout,a=e.darkMode,i=e.setDarkMode,s=xe(),o=Object(c.useState)(!1),j=Object(u.a)(o,2),p=j[0],x=j[1],g=Object(l.g)(),v=function(){x(!1)};return Object(M.jsxs)("div",{className:s.root,children:[Object(M.jsx)(d.a,{position:"fixed",className:s.appBar,children:Object(M.jsxs)(b.a,{className:s.toolbar,children:[p?Object(M.jsx)(f.a,{onClick:v,color:"inherit",edge:"start",children:Object(M.jsx)(J.a,{})}):Object(M.jsx)(f.a,{color:"inherit",onClick:function(){x(!0)},edge:"start",children:Object(M.jsx)(m.a,{})}),Object(M.jsx)(h.a,{onClick:function(){return g.push("/")},variant:"h6",noWrap:!0,className:s.title,children:"Social network"}),Object(M.jsx)("div",{className:s.empty}),Object(M.jsxs)("div",{className:s.login,children:[Object(M.jsx)(f.a,{color:"secondary",onClick:function(){return i(!a)},children:Object(M.jsx)(H.a,{})}),Object(M.jsx)("div",{children:t?Object(M.jsxs)("div",{className:s.login,children:[Object(M.jsx)(h.a,{className:s.name,variant:"h6",children:n}),Object(M.jsx)(O.a,{color:"secondary",variant:"outlined",onClick:r,children:"Log out"})]}):Object(M.jsx)(pe,{})})]})]})}),Object(M.jsx)(z,{open:p,handleDrawerClose:v})]})},ve={logout:function(){return function(){var e=Object(Y.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:e.sent.data.resultCode===r.Success&&t(re(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},we=Object(B.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),ve)((function(e){var t=e.isAuth,n=e.login,r=e.logout,a=e.darkMode,c=e.setDarkMode;return Object(M.jsx)(ge,{isAuth:t,login:n,logout:r,darkMode:a,setDarkMode:c})})),ye={initialized:!1},Se=function(){return{type:"INITIALIZED_SUCCESS"}},Ce=n(248),ke=function(){var e=Object(w.a)();return Object(M.jsx)(Ce.a,{style:{backgroundColor:"#303030",marginBottom:e.spacing(2)}})},Ee=n.p+"static/media/login-key-flat-isometric_126523-1865.08ec80bf.jpg",Ie=n(249),Pe=Object(j.a)((function(e){return{root:{padding:e.spacing(2)},item:{margin:e.spacing(2)},img:{width:"100%"}}})),_e=function(){var e=Object(w.a)(),t=Pe(e);return Object(M.jsxs)(Ie.a,{container:!0,className:t.root,children:[Object(M.jsx)(Ie.a,{item:!0,className:t.item,sm:3,children:Object(M.jsx)("img",{className:t.img,src:Ee,alt:"welcome"})}),Object(M.jsxs)(Ie.a,{item:!0,className:t.item,sm:8,children:[Object(M.jsx)(h.a,{variant:"h4",children:"\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c!"}),Object(M.jsx)("br",{}),Object(M.jsxs)(h.a,{variant:"h6",children:["\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \u0432\u0430\u0441 \u043d\u0430 \u043c\u043e\u0451\u043c \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435. \u0417\u0434\u0435\u0441\u044c \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0447\u0435\u0440\u0435\u0437 email \u0438 \u043f\u0430\u0440\u043e\u043b\u044c. \u041d\u043e \u043d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0439\u0442\u0435\u0441\u044c, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0436\u0435 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 Login \u0444\u043e\u0440\u043c\u0435. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0430 Chat \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 (\u0431\u0435\u0437 \u0432\u0445\u043e\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0451\u0442 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443).",Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),"\u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u0440\u044f\u0434\u043e\u043c \u0441 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 Login, \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443 \u0441 \u0442\u0451\u043c\u043d\u043e\u0439 \u043d\u0430 \u0441\u0432\u0435\u0442\u043b\u0443\u044e."]})]})]})},Ne=function(){return Object(M.jsx)("div",{children:"Not Found"})},Te=n(67),Ae=n(68),Le=n(143),Fe=n(142),Ue=function(e){Object(Le.a)(n,e);var t=Object(Fe.a)(n);function n(){var e;Object(Te.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:!1},e}return Object(Ae.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0}),console.log(t)}},{key:"render",value:function(){return this.state.error?Object(M.jsx)("img",{src:"https://miro.medium.com/max/700/1*v4dLIlWpJkCiSDKv7xguLA.png",alt:"error"}):this.props.children}}]),n}(i.a.Component),Re=n(261),De=n(262),Me=n(141),Ge=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus,a=e.isOwner,i=Object(c.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(),d=Object(u.a)(j,2),b=d[0],f=d[1];Object(c.useEffect)((function(){f(n)}),[n]);var O=function(){l(!0)};return t?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(h.a,{onDoubleClick:a?function(){return O()}:void 0,variant:"h6",children:"Status: "}),o?Object(M.jsx)("div",{children:Object(M.jsx)("input",{onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){return l(!1),void r(b)},type:"text",defaultValue:b})}):Object(M.jsx)("div",{children:Object(M.jsx)("div",{children:Object(M.jsx)(je.a,{fontStyle:"italic",onDoubleClick:a?function(){return O()}:void 0,children:b||"No status"})})})]}):Object(M.jsx)(ke,{})},ze=n(43),We=n(239),He=n(250),Ve=n(98),Je=n(251),Be=n(252),Ze=n(253),qe=n(254),Ye=function(e){var t=e.profile;return Object(M.jsx)(M.Fragment,{children:Object.keys(t.contacts).map((function(e){return Object(M.jsx)(Xe,{contactTitle:e,contactValue:t.contacts[e]},e)}))})},Xe=function(e){var t=e.contactTitle,n=e.contactValue;return Object(M.jsx)(He.a,{component:Ve.a,style:{minWidth:327},children:Object(M.jsx)(Je.a,{children:Object(M.jsx)(Be.a,{children:Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{component:"th",scope:"row",children:t}),Object(M.jsx)(qe.a,{align:"right",children:n})]})})})})},Ke=function(e){var t=e.profile,n=[["Full name:",t.fullName],["Looking for a job:",t.lookingForAJob?"yes":"no"],["My professional skills:",t.lookingForAJobDescription],["About me:",t.aboutMe]];return Object(M.jsx)("div",{children:Object(M.jsx)(He.a,{component:Ve.a,style:{minWidth:327},children:Object(M.jsx)(Je.a,{children:Object(M.jsx)(Be.a,{children:n.map((function(e,t){return Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{component:"th",scope:"row",children:e[0]}),Object(M.jsx)(qe.a,{align:"right",children:e[1]})]},t)}))})})})})},$e=n(194),Qe=n(265),et=n(144),tt=Object(j.a)((function(e){return{title:{margin:e.spacing(3)},errors:{color:"red"},buttons:{display:"flex",justifyContent:"space-between"}}})),nt=function(e){var t=e.profile,n=e.saveProfile,r=e.handleClose,a=Object(c.useState)([]),i=Object(u.a)(a,2),s=i[0],o=i[1],l=Object(et.a)({defaultValues:{fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:{facebook:t.contacts.facebook,website:t.contacts.website,vk:t.contacts.vk,twitter:t.contacts.twitter,instagram:t.contacts.instagram,youtube:t.contacts.youtube,github:t.contacts.github,mainLink:t.contacts.mainLink}}}),j=l.register,d=l.handleSubmit,b=Object(w.a)(),f=tt(b);return Object(M.jsx)("form",{onSubmit:d((function(e){n(e).then((function(){r(),o([])})).catch((function(e){return o(e)}))})),children:Object(M.jsxs)(He.a,{component:Ve.a,children:[Object(M.jsx)(h.a,{className:f.title,variant:"h4",align:"center",children:"Edit profile info"}),s.map((function(e){return Object(M.jsx)(h.a,{align:"center",className:f.errors,children:e},e)})),Object(M.jsx)(Je.a,{size:"small",children:Object(M.jsxs)(Be.a,{children:[Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{children:"Full name"}),Object(M.jsx)(qe.a,{align:"right",children:Object(M.jsx)("input",Object(g.a)({type:"text",placeholder:"Full name"},j("fullName")))})]}),Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{children:"Looking for a job"}),Object(M.jsx)(qe.a,{align:"right",children:Object(M.jsx)("input",Object(g.a)({type:"checkbox"},j("lookingForAJob")))})]}),Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{children:"My professional skills"}),Object(M.jsx)(qe.a,{align:"right",children:Object(M.jsx)("textarea",Object(g.a)({placeholder:"My professional skills"},j("lookingForAJobDescription")))})]}),Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{children:"About me"}),Object(M.jsx)(qe.a,{align:"right",children:Object(M.jsx)("textarea",Object(g.a)({placeholder:"About me"},j("aboutMe")))})]}),Object(M.jsx)(Ze.a,{children:Object(M.jsx)(qe.a,{children:Object(M.jsx)(h.a,{align:"center",children:"Contacts"})})}),Object.keys(t.contacts).map((function(e){return Object(M.jsxs)(Ze.a,{children:[Object(M.jsx)(qe.a,{children:e}),Object(M.jsx)(qe.a,{align:"right",children:Object(M.jsx)("input",Object(g.a)({type:"text",placeholder:e},j("contacts.".concat(e))))})]},e)}))]})}),Object(M.jsxs)(je.a,{margin:2,className:f.buttons,children:[Object(M.jsx)(O.a,{onClick:r,children:"Cancel"}),Object(M.jsx)(O.a,{type:"submit",children:"Send"})]})]})})},rt=Object(j.a)((function(e){return Object(Qe.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),at=function(e){var t=e.profile,n=e.saveProfile,r=rt(),a=i.a.useState(!1),c=Object(u.a)(a,2),s=c[0],o=c[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(O.a,{fullWidth:!0,variant:"contained",onClick:function(){o(!0)},children:"Edit profile info"}),Object(M.jsx)($e.a,{className:r.backdrop,open:s,children:Object(M.jsx)(nt,{profile:t,saveProfile:n,handleClose:function(){o(!1)}})})]})},ct=Object(j.a)((function(e){return{root:{display:"flex",justifyContent:"center"},title:{textAlign:"right",margin:e.spacing(1)},img:{width:"100%"}}})),it=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus,a=e.isOwner,c=e.savePhoto,i=e.saveProfile,s=Object(w.a)(),o=ct(s);return t?Object(M.jsxs)(Ie.a,{container:!0,spacing:5,className:o.root,children:[Object(M.jsxs)(Ie.a,{item:!0,children:[Object(M.jsx)("img",{src:t.photos.large||ze.a,alt:"img"}),Object(M.jsx)(Ge,{profile:t,status:n,updateUserStatus:r,isOwner:a}),Object(M.jsx)(Ke,{profile:t})]}),Object(M.jsxs)(Ie.a,{item:!0,children:[Object(M.jsx)(h.a,{className:o.title,variant:"h5",children:"Contacts"}),Object(M.jsx)(Ye,{profile:t}),a&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(je.a,{margin:1,display:"flex",flexDirection:"column",justifyContent:"center",children:[Object(M.jsx)(h.a,{align:"center",children:"Change avatar"}),Object(M.jsx)(We.a,{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&c(e.target.files[0])}})]}),Object(M.jsx)(je.a,{margin:1,display:"flex",justifyContent:"center",children:Object(M.jsx)(at,{profile:t,saveProfile:i})})]})]})]}):Object(M.jsx)(ke,{})},st=n(129),ot=n.n(st),ut=n(130),lt=n.n(ut),jt=n(131),dt=n.n(jt),bt=Object(j.a)((function(e){return{info:{margin:e.spacing(2),padding:e.spacing(2)},paper:{margin:e.spacing(2)},root:{margin:e.spacing(2),padding:e.spacing(2),flexDirection:"row"}}})),ft=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus,a=e.isOwner,c=e.savePhoto,i=e.saveProfile,s=Object(w.a)(),o=bt(s);return t?Object(M.jsxs)(Ie.a,{container:!0,children:[Object(M.jsx)(Ie.a,{item:!0,sm:6,xs:12,children:Object(M.jsx)(Ve.a,{className:o.info,children:Object(M.jsx)(it,{profile:t,status:n,updateUserStatus:r,isOwner:a,savePhoto:c,saveProfile:i})})}),Object(M.jsx)(Ie.a,{item:!0,sm:6,xs:12,children:Object(M.jsx)(Ve.a,{className:o.root,children:Object(M.jsxs)(h.a,{variant:"h6",children:["\u041f\u043e\u0441\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c:",Object(M.jsxs)(C.a,{children:[Object(M.jsxs)(k.a,{children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(ot.a,{})}),Object(M.jsx)(I.a,{children:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0443"})]}),Object(M.jsxs)(k.a,{children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(lt.a,{})}),Object(M.jsx)(I.a,{children:"\u0421\u0442\u0430\u0442\u0443\u0441 (\u0434\u0432\u0430\u0436\u0434\u044b \u043a\u043b\u0438\u043a\u043d\u0443\u0432 \u043d\u0430 \u043d\u0435\u0433\u043e, \u043b\u0438\u0431\u043e \u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a)"})]}),Object(M.jsxs)(k.a,{children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(dt.a,{})}),Object(M.jsx)(I.a,{children:"\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})]})]})})})]}):Object(M.jsx)(ke,{})},ht=n(16),Ot=function(e){return K.get("profile/".concat(e)).then((function(e){return e.data}))},pt=function(e){return K.get("profile/status/".concat(e)).then((function(e){return e.data}))},mt=function(e){return K.put("profile/status",{status:e}).then((function(e){return e.data}))},xt=function(e){var t=new FormData;return t.append("image",e),K.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},gt=function(e){return K.put("profile",e).then((function(e){return e.data}))},vt={posts:[{id:1,message:"Hi, how are you?",likesCount:11},{id:2,message:"It's my first post",likesCount:22}],profile:null,status:"",newPostText:""},wt=function(e){return{type:"SET_USER_PROFILE",profile:e}},yt=function(e){return{type:"SET_STATUS",status:e}},St=function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}},Ct=function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ot(e);case 2:r=t.sent,n(wt(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},kt={getUserProfile:Ct,getUserStatus:function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt(e);case 2:r=t.sent,n(yt(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt(e);case 2:0===t.sent.resultCode&&n(yt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xt(e);case 2:0===(r=t.sent).resultCode&&n(St(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n,r){var a,c;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,gt(e);case 3:if(0!==(c=t.sent).resultCode){t.next=13;break}if(null===a){t.next=10;break}return t.next=8,n(Ct(a));case 8:t.next=11;break;case 10:throw new Error("userId can't be null");case 11:t.next=14;break;case 13:return t.abrupt("return",Promise.reject(c.messages));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},Et=Object(B.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),kt)((function(e){var t=e.profile,n=e.status,r=e.authorizedUserId,a=e.getUserProfile,i=e.getUserStatus,s=e.updateUserStatus,o=e.savePhoto,u=e.saveProfile,j=Object(l.h)().userId||r||16528;return Object(c.useEffect)((function(){a(+j),i(+j)}),[i,a,j]),Object(M.jsx)(ft,{profile:t,status:n,updateUserStatus:s,isOwner:j===r,savePhoto:o,saveProfile:u})})),It=n(132),Pt=n.n(It),_t=n(135),Nt=n.n(_t),Tt=n(134),At=n.n(Tt),Lt=n(133),Ft=n.n(Lt),Ut=Object(j.a)({root:{display:"flex"}}),Rt=function(e){var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,i=e.portionSize,s=void 0===i?10:i,o=Object(c.useState)(1),l=Object(u.a)(o,2),j=l[0],d=l[1],b=Ut(),h=Math.ceil(t/n),p=Array.from({length:h},(function(e,t){return t+1})),m=Math.ceil(h/s),x=(j-1)*s+1,g=j*s;return Object(M.jsxs)("div",{className:b.root,children:[j>1&&Object(M.jsxs)("div",{children:[Object(M.jsx)(f.a,{onClick:function(){d(1)},children:Object(M.jsx)(Pt.a,{})}),Object(M.jsx)(f.a,{onClick:function(){d(j-1)},children:Object(M.jsx)(Ft.a,{})})]}),p.filter((function(e){return e>=x&&e<=g})).map((function(e){return e===r?Object(M.jsx)(O.a,{variant:"outlined",onClick:function(){return a(e)},children:e},e):Object(M.jsx)(O.a,{onClick:function(){return a(e)},children:e},e)})),m>j&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(f.a,{onClick:function(){d(j+1)},children:Object(M.jsx)(At.a,{})}),Object(M.jsx)(f.a,{onClick:function(){d(m)},children:Object(M.jsx)(Nt.a,{})})]})]})},Dt=n(49),Mt=n(259),Gt=n(255),zt=n(256),Wt=n(257),Ht=n(258),Vt=Object(j.a)({root:{width:270,height:370,margin:"8px"},media:{height:"200px"}}),Jt=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow,c=Vt();return Object(M.jsx)(Ie.a,{item:!0,children:Object(M.jsxs)(Gt.a,{className:c.root,children:[Object(M.jsxs)(zt.a,{component:Dt.b,to:"/profile/".concat(t.id),children:[Object(M.jsx)(Wt.a,{className:c.media,image:t.photos.large?t.photos.large:ze.a,title:t.name}),Object(M.jsxs)(Ht.a,{children:[Object(M.jsxs)(h.a,{noWrap:!0,gutterBottom:!0,variant:"h6",component:"h2",children:["Name:",Object(M.jsx)("br",{}),t.name]}),Object(M.jsxs)(h.a,{noWrap:!0,variant:"body2",color:"textSecondary",component:"p",children:["Status: ",t.status||"No status"]})]})]}),Object(M.jsx)(Mt.a,{children:t.followed?Object(M.jsx)(O.a,{variant:"contained",fullWidth:!0,size:"small",disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id)},children:"Unfollow"}):Object(M.jsx)(O.a,{variant:"contained",fullWidth:!0,size:"small",disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"Follow"})})]})})},Bt=n(198),Zt=n(260),qt=n(136),Yt=n.n(qt),Xt=n(12),Kt=Object(j.a)((function(e){return{root:{margin:e.spacing(2),width:500},select:{width:141},search:Object(x.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Xt.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Xt.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(x.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),$t=function(e){return{}},Qt=function(e){var t=e.onFilterChanged,n=Kt(Object(w.a)());return Object(M.jsx)("div",{className:n.root,children:Object(M.jsx)(fe.c,{initialValues:{term:"",friend:"null"},onSubmit:function(e,n){var r=n.setSubmitting,a={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(a),r(!1)},validate:$t,children:function(e){var t=e.values,r=(e.errors,e.touched,e.handleChange),a=e.handleBlur,c=(e.handleSubmit,e.isSubmitting);return Object(M.jsx)(fe.b,{children:Object(M.jsxs)("div",{className:n.search,children:[Object(M.jsx)("div",{className:n.searchIcon,children:Object(M.jsx)(Yt.a,{})}),Object(M.jsx)(fe.a,{component:Bt.a,placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},id:"term",onChange:r,onBlur:a,value:t.term}),Object(M.jsxs)(fe.a,{className:n.select,component:he.a,type:"text",name:"friend",variant:"standard",children:[Object(M.jsx)(Zt.a,{value:"null",children:"All"}),Object(M.jsx)(Zt.a,{value:"true",children:"Only followed"}),Object(M.jsx)(Zt.a,{value:"false",children:"Only unfollowed"})]}),Object(M.jsx)(O.a,{type:"submit",disabled:c,children:"Submit"})]})})}})})},en=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(g.a)(Object(g.a)({},e),r):e}))},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return K.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},nn=function(e){return K.post("follow/".concat(e)).then((function(e){return e.data}))},rn=function(e){return K.delete("follow/".concat(e)).then((function(e){return e.data}))},an={users:[],pageSize:12,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:"",friend:null}},cn=function(e){return{type:"FOLLOW",userId:e}},sn=function(e){return{type:"UNFOLLOW",userId:e}},on=function(e){return{type:"SET_USERS",users:e}},un=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},ln=function(e){return{type:"SET_FILTER",payload:e}},jn=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e}},dn=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},bn=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},fn=function(e,t,n){return function(){var r=Object(Y.a)(q.a.mark((function r(a){var c;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(dn(!0)),a(un(e)),a(ln(n)),r.next=5,tn(e,t,n.term,n.friend);case 5:c=r.sent,a(dn(!1)),a(on(c.items)),a(jn(c.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},hn=function(){var e=Object(Y.a)(q.a.mark((function e(t,n,r,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(bn(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t(bn(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),On=n(137),pn=Object(On.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),mn=function(e){return e.usersPage.pageSize},xn=function(e){return e.usersPage.totalUsersCount},gn=function(e){return e.usersPage.currentPage},vn=function(e){return e.usersPage.isFetching},wn=function(e){return e.usersPage.followingInProgress},yn=function(e){return e.usersPage.filter},Sn=n(139),Cn=n.n(Sn),kn=n(138),En=n.n(kn),In=Object(j.a)((function(e){return{left:{flexDirection:"column",alignItems:"center",flexWrap:"wrap"},cards:{margin:20,display:"flex",flexWrap:"wrap",justifyContent:"center"},typography:{margin:e.spacing(2),padding:e.spacing(2),flexDirection:"row"},center:{display:"flex",justifyContent:"center"}}})),Pn=i.a.memo((function(){var e=Object(B.d)(pn),t=Object(B.d)(mn),n=Object(B.d)(xn),r=Object(B.d)(gn),a=Object(B.d)(yn),i=Object(B.d)(wn),s=Object(w.a)(),o=Object(B.c)();Object(c.useEffect)((function(){o(fn(r,t,a))}),[r,o,a,t]);var u=function(e){o(function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hn(n,e,nn,cn);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},l=function(e){o(function(e){return function(){var t=Object(Y.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hn(n,e,rn,sn);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},j=In(s);return Object(M.jsxs)(Ie.a,{container:!0,children:[Object(M.jsxs)(Ie.a,{item:!0,className:j.left,lg:10,sm:12,children:[Object(M.jsx)(Ie.a,{item:!0,className:j.center,children:Object(M.jsx)(Qt,{onFilterChanged:function(e){o(fn(1,t,e))}})}),Object(M.jsx)(Ie.a,{item:!0,className:j.center,children:Object(M.jsx)(Rt,{totalItemsCount:n,pageSize:t,currentPage:r,onPageChanged:function(e){o(fn(e,t,a))}})}),Object(M.jsx)(Ie.a,{item:!0,className:j.cards,sm:12,children:e.map((function(e,t){return Object(M.jsx)(Jt,{user:e,followingInProgress:i,follow:u,unfollow:l},t)}))})]}),Object(M.jsx)(Ie.a,{item:!0,lg:2,sm:12,children:Object(M.jsx)(Ve.a,{className:j.typography,children:Object(M.jsxs)(h.a,{variant:"h6",children:["\u0415\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0438\u0441\u043a\u0430 \u043b\u044e\u0434\u0435\u0439",Object(M.jsxs)(C.a,{children:[Object(M.jsxs)(k.a,{children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(En.a,{})}),Object(M.jsx)(I.a,{children:"\u041f\u043e \u0438\u043c\u0435\u043d\u0438"})]}),Object(M.jsxs)(k.a,{children:[Object(M.jsx)(E.a,{children:Object(M.jsx)(Cn.a,{})}),Object(M.jsx)(I.a,{children:"\u041f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e follow / unfollow"})]})]})]})})})]})})),_n=function(){var e=Object(B.d)(vn);return Object(M.jsxs)(M.Fragment,{children:[e?Object(M.jsx)(ke,{}):void 0,Object(M.jsx)(Pn,{})]})};var Nn,Tn=(Nn=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,268))})),function(e){return Object(M.jsx)(i.a.Suspense,{fallback:Object(M.jsx)(ke,{}),children:Object(M.jsx)(Nn,Object(g.a)({},e))})}),An={initializeApp:function(){return function(){var e=Object(Y.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ie()).then((function(){t(Se())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ln=Object(B.b)((function(e){return{initialized:e.app.initialized}}),An)((function(e){var t=e.initialized,n=e.initializeApp,r=Object(c.useState)(!0),a=Object(u.a)(r,2),i=a[0],s=a[1];Object(c.useEffect)((function(){n()}),[n]);var o=Object(Me.a)({palette:{type:i?"dark":"light",primary:{main:"#FFFFFFFF"},secondary:{main:"#000000FF"}}}),j=Object(M.jsx)("div",{className:"app-wrapper",children:Object(M.jsx)(ke,{})});return t?Object(M.jsxs)(Re.a,{theme:o,children:[Object(M.jsx)(De.a,{}),Object(M.jsx)(Ie.a,{container:!0,direction:"column",children:Object(M.jsxs)(Ue,{children:[Object(M.jsx)(Ie.a,{item:!0,children:Object(M.jsx)(we,{darkMode:i,setDarkMode:s})}),Object(M.jsx)(Ie.a,{item:!0,style:{margin:56,padding:24},children:Object(M.jsx)(c.Suspense,{fallback:j,children:Object(M.jsxs)(l.d,{children:[Object(M.jsx)(l.b,{path:"/",exact:!0,component:_e}),Object(M.jsx)(l.b,{path:"/profile/:userId?",component:Et}),Object(M.jsx)(l.b,{path:"/users",component:_n}),Object(M.jsx)(l.b,{path:"/chat",component:Tn}),Object(M.jsx)(l.b,{component:Ne})]})})})]})})]}):j})),Fn=n(73),Un={dataDialog:[{id:1,name:"Dimych",img:ze.a},{id:2,name:"Andrey",img:ze.a},{id:3,name:"Sveta",img:ze.a},{id:4,name:"Sasha",img:ze.a},{id:5,name:"Victor",img:ze.a},{id:6,name:"Valera",img:ze.a}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},Rn=n(140),Dn=n(99),Mn=Object(Fn.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:5,message:t.newPostText,likesCount:0};return Object(g.a)(Object(g.a)({},e),{},{posts:[].concat(Object(ht.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(g.a)(Object(g.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{profile:Object(g.a)(Object(g.a)({},e.profile),{},{photos:t.photos})});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return Object(g.a)(Object(g.a)({},e),{},{messages:[].concat(Object(ht.a)(e.messages),[{id:6,message:n}])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:en(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:en(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case"SET_FILTER":return Object(g.a)(Object(g.a)({},e),{},{filter:t.payload});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(ht.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(g.a)(Object(g.a)({},e),t.payload);case"SET_ERROR_LOGIN":return Object(g.a)(Object(g.a)({},e),{},{errorMessage:t.errorMessage});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},chat:Dn.a}),Gn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Fn.c,zn=Object(Fn.d)(Mn,Gn(Object(Fn.a)(Rn.a)));o.a.render(Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Dt.a,{basename:"/social_network",children:Object(M.jsx)(B.a,{store:zn,children:Object(M.jsx)(Ln,{})})})}),document.getElementById("root"))},43:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.4084d3ab.svg"},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return A}));var r=n(8),a=n.n(r),c=n(13),i=n(16),s=n(7),o={"messages-received":[],"status-changed":[]},u=null,l=function(){h("pending"),setTimeout(O,5e3)},j=function(e){var t=JSON.parse(e.data);o["messages-received"].forEach((function(e){return e(t)}))},d=function(){h("ready")},b=function(){h("error"),console.error("REFRESH PAGE")},f=function(){var e,t,n,r;null===(e=u)||void 0===e||e.removeEventListener("close",l),null===(t=u)||void 0===t||t.removeEventListener("message",j),null===(n=u)||void 0===n||n.removeEventListener("open",d),null===(r=u)||void 0===r||r.removeEventListener("error",b)},h=function(e){o["status-changed"].forEach((function(t){return t(e)}))};function O(){var e;f(),null===(e=u)||void 0===e||e.close(),u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),h("pending"),u.addEventListener("close",l),u.addEventListener("message",j),u.addEventListener("open",d),u.addEventListener("error",b)}var p=function(){O()},m=function(){var e;o["messages-received"]=[],o["status-changed"]=[],f(),null===(e=u)||void 0===e||e.close()},x=function(e,t){return o[e].push(t),function(){o[e]=o[e].filter((function(e){return e!==t}))}},g=function(e,t){o[e]=o[e].filter((function(e){return e!==t}))},v=function(e){var t;null===(t=u)||void 0===t||t.send(e)},w=n(264),y={messages:[],status:"pending"},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/chat/MESSAGES_RECEVIED":return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),Object(i.a)(t.payload.messages.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:Object(w.a)()})})))).filter((function(e,t,n){return t>=n.length-100}))});case"SN/chat/STATUS_CHANGED":return Object(s.a)(Object(s.a)({},e),{},{status:t.payload.status});default:return e}},C=function(e){return{type:"SN/chat/MESSAGES_RECEVIED",payload:{messages:e}}},k=function(e){return{type:"SN/chat/STATUS_CHANGED",payload:{status:e}}},E=null,I=function(e){return null===E&&(E=function(t){e(C(t))}),E},P=null,_=function(e){return null===P&&(P=function(t){e(k(t))}),P},N=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(),x("messages-received",I(t)),x("status-changed",_(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g("messages-received",I(t)),g("status-changed",_(t)),m();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}},[[191,1,2]]]);
//# sourceMappingURL=main.f8028a84.chunk.js.map